import{r as i,j as e,a6 as Te,a7 as g,a8 as E,a9 as b,aa as j,ab as v,ac as ke,ad as Re,ae as $e,af as K,ag as J,ah as Me}from"./index-zN_cMCXj.js";import{P as qe}from"./index-AkutX9-I.js";import{T as Q}from"./index-8X2bHxJW.js";import{u as Be,f as W,g as Le,a as Ve,b as Oe}from"./index-aN5JZksr.js";import{b as Y,c as Z,d as Ge,e as ze,f as Ie,a as Pe}from"./index.esm-bWNlESX5.js";import{B as f}from"./Button-3FDHFgBt.js";import{D as He}from"./Dialog-1b1ZmvQp.js";import{t as c,N as d}from"./toast-p8-f9YQ7.js";import"./Alert-RCS_j8Jh.js";import{A as Ke}from"./index-02QlkbFi.js";import"./Badge-9tl8JQTX.js";import"./Calendar-OuGpzHgm.js";import"./Card-q0IeE3mQ.js";import"./index-WQvklOV4.js";import"./index-jkLjkv_P.js";import{D as X}from"./Drawer-smR0oFTt.js";import"./index-mBZpBLg-.js";import"./FormItem-ICPPA40p.js";import"./Input-jjp4yHHW.js";import"./index-9lzrYVOC.js";import"./index-c61_IZYQ.js";import"./index-_o3pW7qI.js";import"./Progress-HwJSJDzI.js";import"./index-zMdeW30y.js";import"./RangeCalendar-OFOPYy0W.js";import"./ScrollBar-G4G1NroS.js";import"./index-NS5azrki.js";import{S}from"./Select-4SC7uILG.js";import"./Skeleton-P-MbthP2.js";import"./index-O-xYLnH7.js";import"./Switcher-4MWLvk2m.js";import"./index-7JRp9AGt.js";import"./Tag-toDJOizo.js";import"./index-IgZFdhVY.js";import"./index-IAII7dkR.js";import"./Tooltip-TmV83Zem.js";import"./Upload-cFvKTIJX.js";import{c as Je,a as x,e as Qe,b as We,f as Ye,V as Ze}from"./index.esm-vNOAKB65.js";import{O as Xe,D as _e}from"./index.esm-Wztopsom.js";import{F as ea,a as aa,b as m,E as h}from"./formik.esm-hG2JlA3_.js";import"./context-4K_It7vM.js";import"./index-tw4ez8WU.js";import"./index-Aw7A1Eb2.js";import"./CloseButton-thKRAv7B.js";import"./motion-TPlYCOYk.js";import"./useTimeout-8oqMHoCd.js";import"./StatusIcon-a1AXeHOG.js";import"./chainedFunction-ltcSYACe.js";import"./useMergeRef-Rt_Crb27.js";import"./useControllableState-PxgKeL3k.js";import"./cloneDeep-hY89VSV4.js";import"./_getAllKeys-josaXZHF.js";import"./_MapCache-mUj7I7Ze.js";import"./Views-zD_Q7SBY.js";import"./_baseIsEqual-RVGWXmEX.js";import"./get-wdqsSC5n.js";import"./toString-3FE3Yt23.js";import"./floating-ui.react-NPg6DBrp.js";import"./floating-ui.dom-0rLBacrf.js";import"./TimeInput-HivJa-Be.js";import"./useUniqueId-mGBrdPHP.js";import"./useDidUpdate-o2_MgW7H.js";import"./useRootClose-5KdsbEvo.js";import"./isNil-MbCIHf64.js";import"./index-e95nRWq5.js";import"./toConsumableArray-YYxflNc8.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./setPrototypeOf-ahVgEFUp.js";import"./mapCloneElement-xjFPQt8o.js";import"./index.esm-qF4ozkmo.js";import"./index.esm-s1RJSjz7.js";const sa=()=>{var I,P;const[_,ee]=i.useState([]),[ae,se]=i.useState([]),[re,U]=i.useState([]),[oe,D]=i.useState(!1),[R,te]=i.useState("nombre"),[A,le]=i.useState(""),[r,u]=i.useState(null),[ne,F]=i.useState(!1),p=[{value:"Amazonas",label:"Amazonas"},{value:"Anzoátegui",label:"Anzoátegui"},{value:"Apure",label:"Apure"},{value:"Aragua",label:"Aragua"},{value:"Barinas",label:"Barinas"},{value:"Bolívar",label:"Bolívar"},{value:"Carabobo",label:"Carabobo"},{value:"Cojedes",label:"Cojedes"},{value:"Delta Amacuro",label:"Delta Amacuro"},{value:"Distrito Capital",label:"Distrito Capital"},{value:"Falcón",label:"Falcón"},{value:"Guárico",label:"Guárico"},{value:"Lara",label:"Lara"},{value:"La Guaira",label:"La Guaira"},{value:"Mérida",label:"Mérida"},{value:"Miranda",label:"Miranda"},{value:"Monagas",label:"Monagas"},{value:"Nueva Esparta",label:"Nueva Esparta"},{value:"Portuguesa",label:"Portuguesa"},{value:"Sucre",label:"Sucre"},{value:"Táchira",label:"Táchira"},{value:"Trujillo",label:"Trujillo"},{value:"Yaracuy",label:"Yaracuy"},{value:"Zulia",label:"Zulia"}],y=async()=>{const a=g(E(b,"Usuarios")),s=await j(a),o=[];s.forEach(t=>{const l=t.data();(l.typeUser==="Cliente"||l.typeUser==="Certificador")&&o.push({...l,id:t.id})}),ee(o)};i.useEffect(()=>{y()},[]);const ie=async()=>{await y(),c.push(e.jsx(d,{title:"Datos actualizados",children:"La tabla ha sido actualizada con éxito."}))},[ce,w]=i.useState(!1);i.useState({nombre:"",email:"",cedula:"",phone:"",typeUser:"Cliente",password:"",uid:"",id:"",estado:""});const de=a=>{u(a),D(!0)},ue=a=>{u(a),F(!0)},$=Je().shape({nombre:x().min(3,"El nombre debe tener al menos 3 caracteres").required("El nombre es obligatorio"),email:x().email("Debe ser un email válido").required("El correo electrónico es obligatorio").test("termina-en-com",'El email debe terminar en ".com"',a=>(a==null?void 0:a.endsWith(".com"))??!1),cedula:x().matches(/^[V,E,C,G,J,P]-\d{7,10}$/,"tener entre 7 y 10 dígitos").required("La cédula es obligatoria"),phone:x().matches(/^[1-9]\d{10}$/,"El teléfono debe tener 11 dígitos y no puede comenzar con 0").required("El teléfono es obligatorio"),typeUser:x().oneOf(["Cliente","Certificador"],"Tipo de usuario inválido").required("El tipo de usuario es obligatorio"),estado:Qe().when("typeUser",{is:"Certificador",then:()=>We().min(1,"Debe seleccionar al menos un estado").required("El estado es obligatorio"),otherwise:()=>x().required("El estado es obligatorio")}),password:x().required("Por favor ingrese una contraseña").min(6,"La contraseña debe tener al menos 6 caracteres"),confirmPassword:x().oneOf([Ye("password")],"Las contraseñas no coinciden").required("Por favor confirme su contraseña")}),me=async a=>{try{await $.validate(a,{abortEarly:!1});const s=E(b,"Usuarios"),o=a.email.toLowerCase(),t=g(s,v("cedula","==",a.cedula)),l=await j(t),n=g(s,v("phone","==",a.phone)),C=await j(n),N=g(s,v("email","==",o));if(!(await j(N)).empty){c.push(e.jsx(d,{title:"Error",children:"¡El correo electrónico ya está registrado!"}));return}if(!l.empty){c.push(e.jsx(d,{title:"Error",children:"¡La cédula ya está registrada!"}));return}if(!C.empty){c.push(e.jsx(d,{title:"Error",children:"¡El número de teléfono ya está registrado!"}));return}const Ae=(await Re(ke,o,a.password)).user,Fe=E(b,"Usuarios"),H=await $e(Fe,{nombre:a.nombre,email:o,cedula:a.cedula,phone:a.phone,Password:a.password,typeUser:a.typeUser||"Cliente",uid:Ae.uid,estado:a.typeUser==="Certificador"?Array.isArray(a.estado)?a.estado:[a.estado]:a.estado});await K(H,{uid:H.id}),c.push(e.jsx(d,{title:"Éxito",children:"Usuario creado exitosamente."})),w(!1),y()}catch(s){s instanceof Ze?s.inner.forEach(o=>{c.push(e.jsx(d,{title:"Error",children:o.message}))}):(console.error("Error creando Usuario:",s),c.push(e.jsx(d,{title:"Error",children:"Hubo un error al crear el Usuario."})))}},pe=a=>{const s=a.target.value;le(s),U([{id:R,value:s}])},xe=a=>{const s=a.target.value;te(s),A!==""&&U([{id:s,value:A}])},he=async()=>{if(r)try{const a=E(b,"Usuarios"),s=r.email.toLowerCase(),o=g(a,v("cedula","==",r.cedula)),t=await j(o),l=g(a,v("phone","==",r.phone)),n=await j(l);if(!t.empty&&t.docs[0].data().uid!==r.uid){c.push(e.jsx(d,{title:"Error",children:"¡La cédula ya está registrada!"}));return}if(!n.empty&&n.docs[0].data().uid!==r.uid){c.push(e.jsx(d,{title:"Error",children:"¡El número de teléfono ya está registrado!"}));return}const C=J(b,"Usuarios",r.uid),N={nombre:r.nombre,email:s,cedula:r.cedula,phone:r.phone,typeUser:r.typeUser,estado:r.typeUser==="Certificador"?Array.isArray(r.estado)?r.estado:[r.estado]:r.estado};await K(C,N),c.push(e.jsx(d,{title:"Éxito",children:"Usuario actualizado con éxito."})),F(!1),y()}catch(a){console.error("Error actualizando el usuario:",a),c.push(e.jsx(d,{title:"Error",children:"Hubo un error al actualizar el usuario."}))}},fe=a=>a?a.split(" ").filter(Boolean).map(o=>typeof o=="string"&&o.length>0?o[0].toUpperCase():"").join(""):"",ge=[{header:"Nombre",accessorKey:"nombre",cell:({getValue:a})=>a(),filterFn:"includesString",footer:a=>a.column.id},{header:"Cedula",accessorKey:"cedula",filterFn:"includesString"},{header:"Email",accessorKey:"email",filterFn:"includesString"},{header:"Numero Telefonico",accessorKey:"phone",filterFn:"includesString",cell:({row:a})=>{const s=a.original.nombre;return e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ke,{style:{backgroundColor:"#887677"},className:"mr-2 w-6 h-6 flex items-center justify-center rounded-full",children:e.jsx("span",{className:"text-white font-bold",children:fe(s)})}),a.original.phone," "]})}},{header:"Estado",accessorKey:"estado",filterFn:"includesString",cell:({row:a})=>{const s=a.original.estado;return Array.isArray(s)?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.map((o,t)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:o},t))}):e.jsx("span",{children:s})}},{header:"Tipo de Usuario",accessorKey:"typeUser",cell:({row:a})=>{const s=a.getValue("typeUser");let o,t;switch(s){case"Cliente":o=e.jsx(Pe,{className:"text-green-500 mr-1"}),t="text-green-500";break;case"Certificador":o=e.jsx(Ie,{className:"text-yellow-500 mr-1"}),t="text-yellow-500";break;default:o=null,t="text-gray-500"}return e.jsxs("div",{className:`flex items-center ${t}`,children:[o,e.jsx("span",{children:s})]})}},{header:" ",cell:({row:a})=>{const s=a.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ue(s),className:"text-blue-900",children:e.jsx(Ge,{})}),e.jsx("button",{onClick:()=>de(s),className:"text-red-700",children:e.jsx(ze,{})})]})}}],{Tr:M,Th:be,Td:je,THead:ye,TBody:Ce,Sorter:ra}=Q,T=a=>{console.log("onDialogClose",a),D(!1),u(null)},Ne=async()=>{if(r){console.log("Eliminando a:",r);try{const a=J(b,"Usuarios",r.id);await Me(a);const s=e.jsxs(d,{title:"Éxito",children:["Usuario ",r.nombre," eliminado con éxito."]});c.push(s),y()}catch(a){console.error("Error eliminando el usuario:",a);const s=e.jsx(d,{title:"Error",children:"Hubo un error eliminando el usuario."});c.push(s)}finally{D(!1),u(null)}}},q=Be({data:_,columns:ge,state:{sorting:ae,columnFilters:re},onSortingChange:se,onColumnFiltersChange:U,getCoreRowModel:Le(),getSortedRowModel:Ve(),getFilteredRowModel:Oe()}),[B,ve]=i.useState(1),k=6,[L,we]=i.useState(!1),[V,Ee]=i.useState(!1),O=q.getRowModel().rows,Se=O.length,Ue=a=>{console.log("onPaginationChange",a),ve(a)},G=(B-1)*k,De=G+k,z=a=>{console.log("Drawer cerrado",a),F(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("h1",{className:"mb-6 flex justify-start items-center space-x-4",children:[" ",e.jsx("span",{className:"text-[#000B7E]",children:"Usuarios"}),e.jsx("button",{className:"p-2  bg-slate-100 hover:bg-slate-200 active:bg-slate-300 transition-all duration-200 shadow-md transform hover:scale-105 rounded-md",onClick:ie,children:e.jsx(Xe,{className:"w-5 h-5 text-gray-700 hover:text-blue-500 transition-colors duration-200"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative w-32",children:[" ",e.jsxs("select",{className:"h-10 w-full py-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:xe,value:R,children:[e.jsx("option",{value:"",disabled:!0,children:"Seleccionar columna..."}),e.jsx("option",{value:"nombre",children:"Nombre"}),e.jsx("option",{value:"cedula",children:"Cedula"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"typeUser",children:"Tipo de Usuario"})]})]}),e.jsxs("div",{className:"relative w-80 ml-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full py-2 px-4 pl-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 h-10",value:A,onChange:pe}),e.jsx(_e,{className:"absolute left-3 top-5 transform -translate-y-1/2 text-gray-500 w-5 h-5"})]}),e.jsx(f,{className:"w-40 ml-4 text-white hover:opacity-80",style:{backgroundColor:"#000B7E"},onClick:()=>w(!0),children:"Crear Usuario"})]})})]}),e.jsxs("div",{className:"p-3 rounded-lg shadow",children:[e.jsxs(Q,{className:"w-full rounded-lg ",children:[e.jsx(ye,{children:q.getHeaderGroups().map(a=>e.jsx(M,{children:a.headers.map(s=>e.jsx(be,{colSpan:s.colSpan,children:s.isPlaceholder?null:e.jsx("div",{className:s.column.getCanSort()?"cursor-pointer select-none":"",onClick:s.column.getToggleSortingHandler(),children:W(s.column.columnDef.header,s.getContext())})},s.id))},a.id))}),e.jsx(Ce,{children:O.slice(G,De).map(a=>e.jsx(M,{children:a.getVisibleCells().map(s=>e.jsx(je,{children:W(s.column.columnDef.cell,s.getContext())},s.id))},a.id))})]}),e.jsx(qe,{onChange:Ue,currentPage:B,totalRows:Se,rowsPerPage:k})]}),e.jsxs(He,{isOpen:oe,onClose:T,onRequestClose:T,children:[e.jsx("h5",{className:"mb-4",children:"Confirmar Eliminación"}),e.jsxs("p",{children:["¿Estás seguro de que deseas eliminar a"," ",r==null?void 0:r.nombre,"?"]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:T,children:"Cancelar"}),e.jsx(f,{style:{backgroundColor:"#B91C1C"},className:"text-white hover:opacity-80",onClick:Ne,children:"Eliminar"})]})]}),e.jsxs(X,{isOpen:ne,onClose:z,className:"rounded-md shadow",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Editar Usuario"}),e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Nombre:"}),e.jsx("input",{type:"text",value:(r==null?void 0:r.nombre)||"",onChange:a=>u(s=>({...s,nombre:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Email:"}),e.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",readOnly:!0,onChange:a=>u(s=>({...s,email:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg bg-gray-100 transition duration-200 cursor-not-allowed"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Cédula:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("select",{value:((I=r==null?void 0:r.cedula)==null?void 0:I.split("-")[0])||"V",onChange:a=>u(s=>{var o;return{...s,cedula:`${a.target.value}-${((o=s==null?void 0:s.cedula)==null?void 0:o.split("-")[1])||""}`}}),className:"mx-2 p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"V",children:"V-"}),e.jsx("option",{value:"E",children:"E-"}),e.jsx("option",{value:"C",children:"C-"}),e.jsx("option",{value:"G",children:"G-"}),e.jsx("option",{value:"J",children:"J-"}),e.jsx("option",{value:"P",children:"P-"})]}),e.jsx("input",{type:"text",value:((P=r==null?void 0:r.cedula)==null?void 0:P.split("-")[1])||"",onChange:a=>u(s=>{var o;return{...s,cedula:`${((o=s==null?void 0:s.cedula)==null?void 0:o.split("-")[0])||"V"}-${a.target.value}`}}),className:"p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 mx-2 w-full"})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Teléfono:"}),e.jsx("input",{type:"text",value:(r==null?void 0:r.phone)||"",onChange:a=>u(s=>({...s,phone:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Tipo de Usuario:"}),e.jsxs("select",{value:(r==null?void 0:r.typeUser)||"Cliente",onChange:a=>u(s=>({...s,typeUser:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"Cliente",children:"Cliente"}),e.jsx("option",{value:"Certificador",children:"Certificador"})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Estado:"}),(r==null?void 0:r.typeUser)==="Certificador"?e.jsx(S,{isMulti:!0,options:p,value:p.filter(a=>Array.isArray(r==null?void 0:r.estado)&&r.estado.includes(a.value)),onChange:a=>{const s=a?a.map(o=>o.value):[];u(o=>({...o,estado:s}))},placeholder:"Seleccione los estados...",className:"mt-1"}):e.jsx(S,{options:p,value:p.find(a=>!Array.isArray(r==null?void 0:r.estado)&&a.value===(r==null?void 0:r.estado))||null,onChange:a=>{u(s=>({...s,estado:a?a.value:""}))},placeholder:"Seleccione un estado...",className:"mt-1"})]})]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{className:"mr-2",variant:"default",onClick:z,children:"Cancelar"}),e.jsx(f,{onClick:he,style:{backgroundColor:"#000B7E"},className:"text-white hover:opacity-80",children:"Guardar Cambios"})]})]}),e.jsxs(X,{isOpen:ce,onClose:()=>w(!1),className:"rounded-md shadow",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Crear Usuario"}),e.jsx(ea,{initialValues:{nombre:"",email:"",cedula:"",phone:"",typeUser:"Cliente",password:"",confirmPassword:"",estado:""},validationSchema:$,onSubmit:(a,{setSubmitting:s})=>{me(a),s(!1)},children:({isSubmitting:a,setFieldValue:s,values:o})=>(Te.useEffect(()=>{o.typeUser==="Cliente"&&Array.isArray(o.estado)?s("estado",""):o.typeUser==="Certificador"&&!Array.isArray(o.estado)&&s("estado",[])},[o.typeUser,s]),e.jsxs(aa,{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Nombre:"}),e.jsx(m,{type:"text",name:"nombre",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(h,{name:"nombre",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Email:"}),e.jsx(m,{type:"email",name:"email",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(h,{name:"email",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Cédula:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("select",{name:"cedulaPrefix",value:o.cedula.split("-")[0]||"V",onChange:t=>{const l=`${t.target.value}-${o.cedula.split("-")[1]||""}`;s("cedula",l)},className:"mx-2 p-3 border border-gray-300 rounded-l-lg",children:[e.jsx("option",{value:"V",children:"V-"}),e.jsx("option",{value:"E",children:"E-"}),e.jsx("option",{value:"C",children:"C-"}),e.jsx("option",{value:"G",children:"G-"}),e.jsx("option",{value:"J",children:"J-"}),e.jsx("option",{value:"P",children:"P-"})]}),e.jsx(m,{type:"text",name:"cedula",value:o.cedula.split("-")[1]||"",onChange:t=>{const l=`${o.cedula.split("-")[0]||"V"}-${t.target.value}`;s("cedula",l)},className:"p-3 border border-gray-300 rounded-r-lg mx-2 w-full"}),e.jsx(h,{name:"cedula",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Teléfono:"}),e.jsx(m,{type:"text",name:"phone",placeholder:"Ejem (4142611966)",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:t=>{t.currentTarget.value===""&&t.key==="0"&&t.preventDefault()},onChange:t=>{const l=t.target.value.replace(/^0+/,"");l!==t.target.value&&(t.target.value=l)}}),e.jsx(h,{name:"phone",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Tipo de Usuario:"}),e.jsxs(m,{as:"select",name:"typeUser",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Cliente",children:"Cliente"}),e.jsx("option",{value:"Certificador",children:"Certificador"})]}),e.jsx(h,{name:"typeUser",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Estado:"}),o.typeUser==="Certificador"?e.jsx(m,{name:"estado",children:({field:t,form:l})=>e.jsx(S,{isMulti:!0,field:t,form:l,options:p,value:p.filter(n=>Array.isArray(o.estado)&&o.estado.includes(n.value)),onChange:n=>{const C=n?n.map(N=>N.value):[];l.setFieldValue(t.name,C)},placeholder:"Seleccione los estados...",className:"mt-1"})}):e.jsx(m,{name:"estado",children:({field:t,form:l})=>e.jsx(S,{field:t,form:l,options:p,value:p.find(n=>n.value===o.estado)||null,onChange:n=>{l.setFieldValue(t.name,n?n.value:"")},placeholder:"Seleccione un estado...",className:"mt-1"})}),e.jsx(h,{name:"estado",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Contraseña:"}),e.jsx(m,{type:L?"text":"password",name:"password",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>we(t=>!t),className:"absolute right-3 top-10 text-gray-600",children:L?e.jsx(Y,{}):e.jsx(Z,{})}),e.jsx(h,{name:"password",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col relative mt-4",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Confirmar Contraseña:"}),e.jsx(m,{type:V?"text":"password",name:"confirmPassword",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Ee(t=>!t),className:"absolute right-3 top-10 text-gray-600",children:V?e.jsx(Y,{}):e.jsx(Z,{})}),e.jsx(h,{name:"confirmPassword",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{variant:"default",onClick:()=>{w(!1)},className:"mr-2",children:"Cancelar"}),e.jsx(f,{type:"submit",style:{backgroundColor:"#000B7E"},className:"text-white hover:opacity-80",disabled:a,children:a?"Guardando...":"Crear"})]})]}))})]})]})},vs=sa;export{vs as default};
