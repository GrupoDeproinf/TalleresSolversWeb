import{r as h,j as e,a0 as P,a1 as L,a2 as V,a3 as z,a as k,a4 as j,c as F,a5 as I,T as U}from"./index-52EgRySw.js";import{C as x}from"./Card-YX4I-iPW.js";import{S as u}from"./index-srSp0U5G.js";import{C as $}from"./Chart-Cnnfpb9j.js";import{N as D}from"./react-number-format.es-hHUqS3PN.js";import{i as g}from"./Views-Ea6uyAyT.js";import{D as G}from"./Dialog-OdhXSeJ-.js";import{T as Y,P as q}from"./ProceedTrade-j7ByjAmm.js";import{a as W}from"./CryptoService-s7_00lnT.js";import{A as R}from"./index-UbvSPzv7.js";import{B as C}from"./Button-k9SRSx0b.js";import{G as _,g as J}from"./GrowShrinkTag-CBgRaA-n.js";import{R as K}from"./RecentAcivity-_g0gYXAD.js";import{T as A}from"./index-iCLfkUHm.js";import{d as Q,u as X,g as Z,f as S}from"./index-MDzUauOJ.js";import"./useControllableState-jDtedKEJ.js";import"./context-GNh3KNAT.js";import"./chart.constant-iuY4YxIQ.js";import"./index-tM7rwq25.js";import"./chart.config-JKtpW3I1.js";import"./index-TE7zHtVX.js";import"./CloseButton-nAXJ0Zhd.js";import"./index.esm-l-LADNwI.js";import"./motion-4fqlWLTJ.js";import"./index-GYM2iPzk.js";import"./Select-JAyH0OxO.js";import"./toConsumableArray-YYxflNc8.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./setPrototypeOf-ahVgEFUp.js";import"./floating-ui.dom-0rLBacrf.js";import"./get-kp86yZid.js";import"./_MapCache-ZOgRbj73.js";import"./toString-tUXGSMZd.js";import"./index-oXRXyf8l.js";import"./FormItem-S2Fc1pEG.js";import"./index-VOrF6s14.js";import"./Badge-cti2Ek3t.js";import"./DataTable-3sB2A0jX.js";import"./index-VfFv_THJ.js";import"./index.esm-joVjrdv4.js";import"./index-N5Xs75Tw.js";import"./cloneDeep-UD6_Lulu.js";import"./_getAllKeys-8nWbgT-c.js";import"./_baseIsEqual-nrxd_E84.js";import"./TableRowSkeleton-q-n2FXhC.js";import"./Skeleton-7wu-jdbK.js";import"./Input-n1H1dBhO.js";import"./isNil-zTt3D4lP.js";import"./FormNumericInput-DRkHEQe1.js";import"./react-tooltip.min-bLCSKshB.js";import"./RichTextEditor-RN3cyAyZ.js";import"./SegmentItemOption-3AzFMu2i.js";import"./useThemeClass-mczBb_dV.js";import"./SvgIcon-2lNvnZuQ.js";import"./Tooltip-jn3cme1x.js";import"./index.esm-XI3tC7yo.js";import"./floating-ui.react-DnKrBTw-.js";import"./formik.esm--11d8dIP.js";import"./index.esm-dwPctVVE.js";import"./ApiService-zxlQ-hWX.js";import"./useMergeRef-Rt_Crb27.js";import"./Tag-y8ys1fr6.js";const ee=({data:s={},className:a})=>{var i,o,r,n;const[t,l]=h.useState(["month"]);return e.jsxs(x,{className:a,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{children:"Portfolio Balance"}),e.jsx("h4",{className:"font-bold",children:!g(s)&&e.jsx(D,{thousandSeparator:!0,displayType:"text",value:(o=s[t[0]])==null?void 0:o.series[0].data[((i=s[t[0]])==null?void 0:i.series[0].data.length)-1],prefix:"$"})})]}),e.jsxs(u,{value:t,size:"sm",onChange:d=>l(d),children:[e.jsx(u.Item,{value:"week",children:"Week"}),e.jsx(u.Item,{value:"month",children:"Month"}),e.jsx(u.Item,{value:"year",children:"Year"})]})]}),!g(s)&&e.jsx($,{series:(r=s[t[0]])==null?void 0:r.series,xAxis:(n=s[t[0]])==null?void 0:n.timeRange,height:"350px",customOptions:{legend:{show:!1}}})]})},se={loading:!0,dashboardData:{},tradeDialogOpen:!1},M="cryptoDashboard",y=P(M+"/getCryptoDashboardData",async()=>(await W()).data),E=L({name:`${M}/state`,initialState:se,reducers:{toggleTradeDialog:(s,a)=>{s.tradeDialogOpen=a.payload}},extraReducers:s=>{s.addCase(y.fulfilled,(a,t)=>{a.loading=!1,a.dashboardData=t.payload}).addCase(y.pending,a=>{a.loading=!0})}}),{toggleTradeDialog:w}=E.actions,ae=E.reducer,te=V({data:ae}),b=z,re=({className:s})=>{const a=k(),t=j(),l=b(c=>c.cryptoDashboard.data.tradeDialogOpen),[i,o]=h.useState(""),[r,n]=h.useState(!1),[d,v]=h.useState({}),N=(c,m,O)=>{setTimeout(()=>{m(!1),a(w(!0)),v({...c,type:O}),n(!1),o("")},500)},f=()=>{a(w(!1)),setTimeout(()=>{v({}),n(!1),o("")},300)},B=()=>{n(!0),setTimeout(()=>{o("SUCCESS")},1e3)},H=c=>{f(),c&&t("/app/crypto/wallets")};return e.jsxs(e.Fragment,{children:[e.jsx(x,{className:s,children:e.jsx(Y,{amount:29877.3,symbol:"BTC",onBuy:(c,m)=>N(c,m,"BUY"),onSell:(c,m)=>N(c,m,"SELL")})}),e.jsxs(G,{isOpen:l,width:400,onRequestClose:f,onClose:f,children:[e.jsx("h5",{className:"mb-4",children:!g(d)&&!i&&"Order preview"}),!g(d)&&e.jsx(q,{loading:r,status:i,onConfirm:B,onDone:H,...d})]})]})},oe=({data:s={}})=>e.jsx(x,{className:"bg-gray-50 dark:bg-gray-700 border-0",children:e.jsxs("div",{className:"flex items-center justify-between my-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"bg-transparent",src:s.icon,shape:"circle"}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-bold",children:s.symbol}),e.jsx("p",{children:s.name})]})]}),e.jsxs("div",{className:"text-right rtl:text-left",children:[e.jsx("h6",{className:"mb-2",children:e.jsx(D,{displayType:"text",value:s.fiatValue,suffix:" USD",thousandSeparator:!0})}),e.jsx(_,{value:s.growshrink,suffix:"%"})]})]})}),ie=({data:s=[]})=>{const a=j();return e.jsxs(x,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{children:"Holdings"}),e.jsx(C,{size:"sm",onClick:()=>a("/app/crypto/wallets"),children:"View All"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-4 gap-4",children:s.map(t=>e.jsx(oe,{data:t},t.symbol))})]})},ne=s=>{const a=j(),t=()=>{a("/app/crypto/wallets")};return e.jsx(K,{title:"Recent Activities",extra:e.jsx(C,{size:"sm",onClick:t,children:"Details"}),...s})},{Tr:T,Td:le,TBody:ce,THead:de,Th:me}=A,p=Q(),pe=[p.accessor("name",{header:"Name",cell:s=>{const{img:a,symbol:t,name:l}=s.row.original;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{src:a,size:"sm",className:"!bg-transparent"}),e.jsx("span",{className:"font-bold heading-text",children:t}),e.jsx("span",{children:l})]})}}),p.accessor("price",{header:"Price",cell:s=>{const a=s.row.original;return e.jsx(D,{displayType:"text",value:(Math.round(a.price*100)/100).toFixed(2),suffix:" USD",thousandSeparator:!0})}}),p.accessor("change",{header:"24h Change",cell:s=>{const{change:a}=s.row.original;return e.jsxs("span",{className:F("font-semibold",J(a,"text")),children:[a>0&&"+",a,"%"]})}}),p.accessor("volumn",{header:"24h Volumn",cell:s=>{const{volumn:a}=s.row.original;return e.jsxs("span",{children:[a,"M"]})}}),p.accessor("marketCap",{header:"Market Cap",cell:s=>{const{marketCap:a}=s.row.original;return e.jsxs("span",{children:["$",a,"M"]})}})],he=({data:s=[],className:a})=>{const t=j(),l=()=>{t("/app/crypto/market")},i=X({data:s,columns:pe,getCoreRowModel:Z()});return e.jsxs(x,{className:a,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{children:"Market values"}),e.jsx(C,{size:"sm",onClick:l,children:"Details"})]}),e.jsxs(A,{children:[e.jsx(de,{children:i.getHeaderGroups().map(o=>e.jsx(T,{children:o.headers.map(r=>e.jsx(me,{colSpan:r.colSpan,children:S(r.column.columnDef.header,r.getContext())},r.id))},o.id))}),e.jsx(ce,{children:i.getRowModel().rows.map(o=>e.jsx(T,{children:o.getVisibleCells().map(r=>e.jsx(le,{children:S(r.column.columnDef.cell,r.getContext())},r.id))},o.id))})]})]})};I("cryptoDashboard",te);const xe=()=>{const s=k(),{portfolioStatsData:a,recentAcivityData:t,marketValueData:l,holdingsData:i}=b(n=>n.cryptoDashboard.data.dashboardData),o=b(n=>n.cryptoDashboard.data.loading);h.useEffect(()=>{r()},[]);const r=()=>{s(y())};return e.jsx("div",{className:"flex flex-col gap-4 h-full",children:e.jsxs(U,{loading:o,children:[e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-11 gap-4",children:[e.jsx(ee,{className:"2xl:col-span-8 xl:col-span-7",data:a}),e.jsx(re,{className:"2xl:col-span-3 xl:col-span-4"})]}),e.jsx(ie,{data:i}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-11 gap-4",children:[e.jsx(he,{className:"2xl:col-span-8 xl:col-span-7",data:l}),e.jsx(ne,{className:"2xl:col-span-3 xl:col-span-4",data:t})]})]})})},vs=xe;export{vs as default};
