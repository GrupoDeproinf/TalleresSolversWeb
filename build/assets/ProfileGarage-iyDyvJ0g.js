import{r as i,j as e,a8 as G,a9 as v,aa as ee,ag as P,ap as ao,b2 as Eo,ak as Te,al as no,am as to,an as Z,af as H,a4 as So,u as ko,ab as He,a7 as Je,ai as Ro,aj as We,ar as Lo}from"./index-BDN-NirA.js";import{C as Po,a as Ao}from"./Views-D5n2Trj8.js";import{S as Do}from"./Switcher-Y235jYJt.js";import{C as Ye}from"./Card-ru8SSgle.js";import{A as Qe}from"./index-9dH6D_0K.js";import{B as ge}from"./Button-6-9C-O8H.js";import{C as Oo}from"./ConfirmDialog-h8Y_2GQH.js";import{g as ro,r as Mo,t as _o,x as Io,y as To,z as Fo}from"./index.esm-WGOkTBh9.js";import{T as Bo}from"./Tag-eb9fNZaN.js";import{ap as $o,aq as De,ar as Xe}from"./index.esm-JVWMqiQz.js";import{T as pe}from"./index-QBN3JdOA.js";import"./Alert-Y09bu1DB.js";import"./Badge-LMosGxLW.js";import"./Calendar-T0K799UN.js";import{C as Uo}from"./index-zTni03DB.js";import"./index-T1mF-7r2.js";import{D as io}from"./Dialog-SBZuoIC3.js";import{D as zo}from"./Drawer-DIcDYNgx.js";import"./index-mh1aZjYz.js";import"./FormItem-d_OVMf_Z.js";import{I as Q}from"./Input-hqtZOCtl.js";import"./index--A5fi7tj.js";import"./index-PpzDC3Jj.js";import"./index-4lYxU2i7.js";import{N as x,t as f}from"./toast-pVI4tAJq.js";import{P as eo}from"./index-XDgeXEn0.js";import"./Progress-oQwW8gzF.js";import"./index-9ebayvxG.js";import"./RangeCalendar-AKM11oK_.js";import"./ScrollBar-VWwyq3E5.js";import"./index-GHZRivBK.js";import"./Select-8Gvey-uC.js";import"./Skeleton-fcPlcsk0.js";import"./index-ri0NZiFc.js";import{T as oo}from"./index-nR65AEDO.js";import"./index-HJYQgrUg.js";import"./index--Vi0WLtf.js";import"./Tooltip-poJdwxB8.js";import"./Upload-4x6xtSgm.js";import{u as Oe,f as V,g as Me,a as _e,b as Ie}from"./index-uie94bAd.js";import{R as qo}from"./index.esm-eVxpTfVY.js";import{M as Vo}from"./index.esm-h2EdPH9j.js";import{S as Ko}from"./index.esm-emydceJQ.js";import{F as Go,a as Zo,b as B,E as K}from"./formik.esm-CPZ5RKz1.js";import{c as X,g as he,h as xe,a as T}from"./index.esm-r4zf3HSQ.js";import{G as lo,M as co}from"./esm-qQrfYS5f.js";import"./useMergeRef-Rt_Crb27.js";import"./context--qCY6-De.js";import"./useTimeout-ixfe1nLX.js";import"./CloseButton-XJ_uv746.js";import"./StatusIcon-XYxFXOI4.js";import"./motion-XTxZ_YMB.js";import"./useControllableState-dOKAbg8g.js";import"./cloneDeep-GKicEr_P.js";import"./_getAllKeys-SOhWX5sI.js";import"./_MapCache-4O9HuYi5.js";import"./_baseIsEqual-un1TFLjd.js";import"./get-NTrfDtww.js";import"./toString-CUAplsuk.js";import"./floating-ui.react-REDD7Bey.js";import"./floating-ui.dom-0rLBacrf.js";import"./TimeInput-1wmA0CVa.js";import"./useUniqueId-2Xlta9Qh.js";import"./useDidUpdate-QsjTsAk6.js";import"./index-f8gVZGqK.js";import"./index-DuFQRDnk.js";import"./useRootClose-VXwe472h.js";import"./isNil-gutLLMpn.js";import"./index-nkwvr9YC.js";import"./chainedFunction-ltcSYACe.js";import"./toConsumableArray-YYxflNc8.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./setPrototypeOf-ahVgEFUp.js";import"./mapCloneElement-KT4AFrW0.js";import"./index.esm-GiNzBMsC.js";import"./index.esm-qLF7wqwz.js";const so=[{codigo:"0102",nombre:"BANCO DE VENEZUELA"},{codigo:"0156",nombre:"100% BANCO"},{codigo:"0172",nombre:"BANCAMIGA BANCO MICROFINANCIERO C A"},{codigo:"0114",nombre:"BANCARIBE"},{codigo:"0171",nombre:"BANCO ACTIVO"},{codigo:"0166",nombre:"BANCO AGRICOLA DE VENEZUELA"},{codigo:"0175",nombre:"BANCO BICENTENARIO DEL PUEBLO"},{codigo:"0128",nombre:"BANCO CARONI"},{codigo:"0163",nombre:"BANCO DEL TESORO"},{codigo:"0115",nombre:"BANCO EXTERIOR"},{codigo:"0151",nombre:"BANCO FONDO COMUN"},{codigo:"0173",nombre:"BANCO INTERNACIONAL DE DESARROLLO"},{codigo:"0105",nombre:"BANCO MERCANTIL"},{codigo:"0191",nombre:"BANCO NACIONAL DE CREDITO"},{codigo:"0138",nombre:"BANCO PLAZA"},{codigo:"0137",nombre:"BANCO SOFITASA"},{codigo:"0104",nombre:"BANCO VENEZOLANO DE CREDITO"},{codigo:"0168",nombre:"BANCRECER"},{codigo:"0134",nombre:"BANESCO"},{codigo:"0177",nombre:"BANFANB"},{codigo:"0146",nombre:"BANGENTE"},{codigo:"0174",nombre:"BANPLUS"},{codigo:"0108",nombre:"BBVA PROVINCIAL"},{codigo:"0157",nombre:"DELSUR BANCO UNIVERSAL"},{codigo:"0169",nombre:"MI BANCO"},{codigo:"0178",nombre:"N58 BANCO DIGITAL BANCO MICROFINANCIERO S A"}],Ho=({subscriptionId:n,talleruid:j})=>{const[c,E]=i.useState("Efectivo"),[y,A]=i.useState([]),[oe,C]=i.useState(!1),[D,$]=i.useState(!1),[fe,J]=i.useState(!1),[se,R]=i.useState(!1);i.useEffect(()=>{(async()=>{const N=G(v,"MetodosPago"),b=(await ee(N)).docs.map(w=>w.data());A(b.filter(w=>w.status))})()},[]),i.useEffect(()=>{(async()=>{if(j)try{const N=P(v,"Usuarios",j),d=await ao(N);if(d.exists()){const w=d.data().subscripcion_actual;w&&w.pago_reportado===!0&&J(!0)}}catch(N){console.error("Error al verificar si ya se reportó el pago:",N)}})()},[j]);const be=r=>{E(r)},je=()=>{fe?R(!0):$(!0)},m=X().shape({monto:he().required("El monto es obligatorio").positive("El monto debe ser positivo").min(1,"El monto debe ser mayor a cero"),fechaPago:xe().max(new Date,"La fecha no puede ser futura").required("La fecha es obligatoria")}),Ne=X().shape({monto:he().required("El monto es obligatorio").positive("El monto debe ser positivo").min(1,"El monto debe ser mayor a cero"),numReferencia:T().required("El número de referencia es obligatorio"),bancoDestino:T().required("Selecciona un banco de destino"),bancoOrigen:T().required("Selecciona un banco de origen"),fechaPago:xe().max(new Date,"La fecha no puede ser futura").required("La fecha es obligatoria")}),ae=X().shape({monto:he().required("El monto es obligatorio").positive("El monto debe ser positivo").min(1,"El monto debe ser mayor a cero"),numReferencia:T().required("El número de referencia es obligatorio"),telefono:T().required("El teléfono es obligatorio"),bancoDestino:T().required("Selecciona un banco de destino"),bancoOrigen:T().required("Selecciona un banco de origen"),fechaPago:xe().max(new Date,"La fecha no puede ser futura").required("La fecha es obligatoria")}),ve=X().shape({monto:he().required("El monto es obligatorio").positive("El monto debe ser positivo").min(1,"El monto debe ser mayor a cero"),correo:T().email("El correo no es válido").required("El correo Zelle es obligatorio"),fechaPago:xe().max(new Date,"La fecha no puede ser futura").required("La fecha es obligatoria")}),t=X().shape({...c==="Efectivo"&&m.fields,...c==="Transferencia"&&Ne.fields,...c==="Pago Móvil"&&ae.fields,...c==="Zelle"&&ve.fields}),S={metodoPago:"",monto:"",numReferencia:"",telefono:"",correo:"",cedula:"",bancoOrigen:"",bancoDestino:"",fechaPago:"",newLogoFile:null},ne=async r=>{if(!n){console.error("Error: subscriptionId no está definido");return}C(!0);try{let N="";if(r.newLogoFile&&c&&j){const W=Eo(),te=new Date().toISOString(),ye=`${c}_${j}_${te}.jpg`,O=r.newLogoFile,Ce=Te(W,`paymentcommitment/${ye}`),L=await no(Ce,O);N=await to(L.ref)}const d=r.fechaPago?Z.fromDate(new Date(r.fechaPago)):null,b={metodo:c,monto:r.monto,fechaPago:d,comprobante:N};c==="Transferencia"&&(b.numReferencia=r.numReferencia??"",b.cedula=r.cedula??"",b.bancoOrigen=r.bancoOrigen??"",b.bancoDestino=r.bancoDestino??""),c==="Pago Móvil"&&(b.cedula=r.cedula,b.telefono=r.telefono,b.bancoOrigen=r.bancoOrigen,b.bancoDestino=r.bancoDestino),c==="Zelle"&&(b.correo=r.correo??"",b.numReferencia=r.numReferencia),console.log(b);const w=P(v,"Subscripciones",n);if(await H(w,{comprobante_pago:b}),j){const W=P(v,"Usuarios",j);await H(W,{"subscripcion_actual.pago_reportado":!0}),J(!0)}console.log("Pago registrado exitosamente"),f.push(e.jsx(x,{title:"Éxito",type:"success",children:"Se ha registrado el pago correctamente."}))}catch(N){console.error("Error al registrar el pago:",N),f.push(e.jsx(x,{title:"Error",children:"Ocurrió un problema al registrar el pago."}))}finally{C(!1),$(!1)}},g=y.find(r=>r.tipo_pago===c);return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:je,className:"bg-blue-900 rounded-md p-2 text-white hover:bg-blue-700",children:"Reportar Pago"}),e.jsx(io,{isOpen:se,onClose:()=>R(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Pago Ya Reportado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Ya se ha reportado un pago para esta suscripción. No se puede reportar otro pago."}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>R(!1),className:"bg-blue-900 rounded-md p-2 text-white hover:bg-blue-700",children:"Entendido"})})]})}),e.jsx(zo,{isOpen:D,onClose:()=>$(!1),title:"Registrar Pago",children:e.jsx(Go,{initialValues:S,onSubmit:ne,validationSchema:t,validateOnBlur:!0,validateOnChange:!1,children:({setFieldValue:r,values:N})=>e.jsxs(Zo,{className:"flex flex-col gap-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Selecciona el Método de Pago"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:y==null?void 0:y.map(d=>e.jsx("button",{type:"button",onClick:()=>be(d.tipo_pago),className:`text-sm py-2 px-4 rounded-md ${c===d.tipo_pago?"bg-[#1d1e56] text-white":"bg-gray-200"}`,children:d.tipo_pago},d.tipo_pago))}),c!=="Efectivo"&&g&&e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-4",children:[e.jsx("h5",{className:"font-semibold text-lg",children:"Detalles de la Empresa"}),g.email&&e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",g.email]}),g.num_ref&&e.jsxs("p",{children:[e.jsx("strong",{children:"Número de Referencia:"})," ",g.num_ref]}),g.banco&&e.jsxs("p",{children:[e.jsx("strong",{children:"Banco:"})," ",g.banco]}),g.cedula_rif&&e.jsxs("p",{children:[e.jsx("strong",{children:"Cédula/RIF:"})," ",g.cedula_rif]}),g.cuenta&&e.jsxs("p",{children:[e.jsx("strong",{children:"Cuenta:"})," ",g.cuenta]}),g.status_pago!==void 0&&e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",g.status_pago?"Activo":"Inactivo"]}),g.tipo_cuenta&&e.jsxs("p",{children:[e.jsx("strong",{children:"Tipo de Cuenta:"})," ",g.tipo_cuenta]}),g.telefono&&e.jsxs("p",{children:[e.jsx("strong",{children:"Teléfono:"})," ",g.telefono]}),g.titular&&e.jsxs("p",{children:[e.jsx("strong",{children:"Titular:"})," ",g.titular]})]}),e.jsx(B,{id:"monto",name:"monto",as:Q,placeholder:"Ingresa el monto en $"}),e.jsx(K,{name:"monto",component:"div",className:"text-red-500"}),e.jsx(B,{id:"fechaPago",name:"fechaPago",as:Q,type:"date",placeholder:"Fecha de pago"}),e.jsx(K,{name:"fechaPago",component:"div",className:"text-red-500"}),c==="Pago Móvil"&&e.jsxs(e.Fragment,{children:[e.jsx(B,{id:"telefono",name:"telefono",as:Q,placeholder:"Teléfono"}),e.jsx(K,{name:"telefono",component:"div",className:"text-red-500"})]}),c==="Zelle"&&e.jsx(B,{id:"correo",name:"correo",as:Q,placeholder:"Correo Zelle"}),["Transferencia","Pago Móvil"].includes(c)&&e.jsxs(e.Fragment,{children:[e.jsx(B,{id:"numReferencia",name:"numReferencia",as:Q,placeholder:"Número de referencia"}),e.jsx(K,{name:"numReferencia",component:"div",className:"text-red-500"})]}),["Transferencia","Pago Móvil"].includes(c)&&e.jsxs(e.Fragment,{children:[e.jsxs(B,{id:"bancoDestino",as:"select",name:"bancoDestino",className:"p-2 rounded-md border border-slate-300",children:[e.jsx("option",{value:"",children:"Selecciona Banco de Destino"}),so.map(d=>e.jsx("option",{value:d.nombre,children:d.nombre},d.codigo))]}),e.jsx(K,{name:"bancoDestino",component:"div",className:"text-red-500"}),e.jsxs(B,{id:"bancoOrigen",as:"select",name:"bancoOrigen",className:"p-2 rounded-md border border-slate-300",children:[e.jsx("option",{value:"",children:"Selecciona Banco de Origen"}),so.map(d=>e.jsx("option",{value:d.nombre,children:d.nombre},d.codigo))]}),e.jsx(K,{name:"bancoOrigen",component:"div",className:"text-red-500"})]}),["Transferencia","Pago Móvil","Zelle"].includes(c)&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10 gap-2",children:e.jsxs("div",{className:"text-center",children:[N.newLogoFile?e.jsx("img",{src:URL.createObjectURL(N.newLogoFile),alt:"Logo",className:"w-32 h-32 object-cover rounded-md"}):e.jsx(ro,{className:"text-gray-500 text-center text-3xl"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{htmlFor:"fileInput",className:"text-sm font-medium text-blue-600 cursor-pointer",children:"Subir Comprobante de Pago"}),e.jsx("input",{id:"fileInput",name:"newLogoFile",type:"file",className:"hidden",accept:"image/*",onChange:d=>{d.target.files&&d.target.files[0]&&r("newLogoFile",d.target.files[0])}})]})]})})}),e.jsx("button",{type:"submit",className:"w-full py-2 mt-4 bg-blue-900 rounded-md hover:bg-blue-700 text-white",children:"Registrar Pago"})]})})})]})},Jo=({markers:n,center:j})=>{const[c,E]=i.useState([]);return i.useEffect(()=>{E(n)},[n]),e.jsx("div",{style:{height:"50%",width:"100%"},children:e.jsx(lo,{center:j,zoom:10,mapContainerStyle:{height:"400px",width:"100%",marginTop:"10px"},children:c.map((y,A)=>e.jsx(co,{position:{lat:y.lat,lng:y.lng}},A))})})},Wo=({initialLocation:n,onLocationChange:j})=>{const[c,E]=i.useState(null),[y]=i.useState(17);i.useEffect(()=>{n&&n.lat&&n.lng&&E(n)},[n]);const A=C=>{if(!C.latLng)return;const D={lat:C.latLng.lat(),lng:C.latLng.lng()};E(D),j(D)},oe=C=>{if(C.latLng){const D={lat:C.latLng.lat(),lng:C.latLng.lng()};E(D),j(D)}};return e.jsx("div",{style:{height:"450px",width:"100%"},children:e.jsx(lo,{center:c||{lat:0,lng:0},zoom:y,mapContainerStyle:{height:"400px",width:"100%",marginTop:"10px"},onClick:A,children:c&&e.jsx(co,{position:c,draggable:!0,onDragEnd:oe})})})},va=()=>{var Ke,Ge,Ze;const[n,j]=i.useState(null),[c,E]=i.useState(!1);i.useState(null);const[y,A]=i.useState([]),[oe,C]=i.useState([]),[D,$]=i.useState(!0);i.useState(!1);const[fe,J]=i.useState(!1),[se,R]=i.useState(!1),[be,je]=i.useState(null),[m,Ne]=i.useState({fecha_fin:Z,fecha_inicio:Z,nombre:"",cantidad_servicios:0,monto:0,status:"",vigencia:"",uid:"",fechaCreacion:Z.fromDate(new Date)}),[ae,ve]=i.useState([]),[t,S]=i.useState({image_perfil:"",nombre:"",email:"",phone:"",rif:"",status:"",Direccion:"",ubicacion:{lat:0,lng:0},LinkFacebook:"",LinkTiktok:"",LinkInstagram:"",estado:"",whatsapp:"",newLogoFile:null});i.useState(null);const[ne,g]=i.useState({pagoMovil:!1,transferencia:!1,puntoVenta:!1,zinli:!1,efectivo:!1,zelle:!1,tarjetaCreditoN:!1,tarjetaCreditoI:!1}),r=location.pathname.substring(location.pathname.lastIndexOf("/")+1),N=So(),d=ko(o=>o.auth.user.authority),b=d==null?void 0:d.includes("Admin"),w=async()=>{$(!0);try{const o=P(v,"Usuarios",r),a=(await ao(o)).data()||null,p=(a==null?void 0:a.metodos_pago)||{};g(h=>({...h,...p}));const u=(a==null?void 0:a.subscripcion_actual)||null;E(!!u);const F=Je(G(v,"Subscripciones"),He("taller_uid","==",r)),de=(await ee(F)).docs.map(h=>{const l=h.data();return{uid:h.id,nombre:l.nombre||"",monto:l.monto||"0",vigencia:l.vigencia||"",status:l.status||"",cantidad_servicios:l.cantidad_servicios||0,fecha_fin:l.fecha_fin||"no hay fecha",fecha_inicio:l.fecha_inicio||"no hay fecha",taller_uid:l.taller_uid||"",fechaCreacion:Z.fromDate(new Date)}}),I=Je(G(v,"Servicios"),He("uid_taller","==",r)),me=(await ee(I)).docs.map(h=>{const l=h.data();return{uid_servicio:h.id,nombre_servicio:(l==null?void 0:l.nombre_servicio)||"",descripcion:(l==null?void 0:l.descripcion)||"",precio:(l==null?void 0:l.precio)||"0",estatus:l==null?void 0:l.estatus,taller:(l==null?void 0:l.taller)||"",puntuacion:(l==null?void 0:l.puntuacion)||"0"}}),ue=(await ee(G(v,"Planes"))).docs.map(h=>({uid:h.id,nombre:h.data().nombre||"",descripcion:h.data().descripcion||"",monto:h.data().monto||0,status:h.data().status||"",vigencia:h.data().vigencia||"",cantidad_servicios:h.data().cantidad_servicios||0}));j(a),A(me),console.log(me),C(ue),Ne(u),ve(de);const Y=u==null?void 0:u.fecha_fin;if(Y){const h=W(Y);console.log("aqui la vigencia w",h),je(h)}S({nombre:(a==null?void 0:a.nombre)??"",image_perfil:(a==null?void 0:a.image_perfil)??"",email:(a==null?void 0:a.email)??"",phone:(a==null?void 0:a.phone)??"",rif:(a==null?void 0:a.rif)??"",status:(a==null?void 0:a.status)??"",Direccion:(a==null?void 0:a.Direccion)??"",LinkFacebook:(a==null?void 0:a.LinkFacebook)??"",LinkInstagram:(a==null?void 0:a.LinkInstagram)??"",LinkTiktok:(a==null?void 0:a.LinkTiktok)??"",whatsapp:(a==null?void 0:a.whatsapp)??"",estado:(a==null?void 0:a.estado)??"",ubicacion:a!=null&&a.ubicacion?{lat:a.ubicacion.lat,lng:a.ubicacion.lng}:{lat:0,lng:0},newLogoFile:(a==null?void 0:a.newLogoFile)??null})}catch(o){console.error("Error al obtener los datos del cliente:",o),f.push(e.jsx(x,{title:"Error",children:"Ocurrio un error al cargar los datos del cliente."}))}finally{$(!1)}};i.useEffect(()=>{w()},[]);const W=o=>{const s=Math.floor(Date.now()/1e3),p=o.seconds-s;return Math.ceil(p/(60*60*24))},te=o=>{const s=new Date(o.seconds*1e3),a=String(s.getDate()).padStart(2,"0"),p=String(s.getMonth()+1).padStart(2,"0"),u=s.getFullYear();return`${a}/${p}/${u}`},ye=async o=>{try{const s=P(v,"Usuarios",r),a=P(G(v,"Subscripciones"));await Ro(a,{uid:a.id,nombre:o.nombre,monto:o.monto,vigencia:o.vigencia,cantidad_servicios:o.cantidad_servicios,status:"Por Aprobar",taller_uid:r,fechaCreacion:Z.fromDate(new Date)}),await H(s,{subscripcion_actual:{uid:a.id,nombre:o.nombre,monto:o.monto,vigencia:o.vigencia,cantidad_servicios:o.cantidad_servicios,status:"Por Aprobar"}}),E(!0),await w(),Fe(),console.log("Subscripción actualizada y guardada en Subscripciones."),f.push(e.jsx(x,{title:"Éxito",type:"success",children:"Se ha subscrito correctamente a este plan."}))}catch(s){console.error("Error al guardar la subscripción:",s),f.push(e.jsx(x,{title:"Error",children:"Ocurrió un error al subscribirse a este plan. Inténtalo nuevamente."}))}},O=({title:o,value:s})=>e.jsxs("div",{children:[e.jsx("span",{children:o}),e.jsx("p",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:s})]}),Ce=(o,s)=>{ie(a=>{const p=a.filter(u=>u.id!==o);return s!==""&&p.push({id:o,value:s}),p})},L=o=>{const{name:s,value:a}=o.target;S(p=>({...p,[s]:a}))},[U,mo]=i.useState({facebook:"",instagram:"",tiktok:"",whatsapp:""}),uo=(o,s)=>({facebook:/^(https?:\/\/)?(www\.)?facebook\.com\/.+$/,instagram:/^(https?:\/\/)?(www\.)?instagram\.com\/.+$/,tiktok:/^(https?:\/\/)?(www\.)?tiktok\.com\/.+$/})[s].test(o)?"":`La URL ingresada no es válida para ${s}.`,we=(o,s)=>{const{value:a}=o.target;S(u=>({...u,[`Link${s.charAt(0).toUpperCase()+s.slice(1)}`]:a}));const p=uo(a,s);mo(u=>({...u,[s]:p}))},go=async()=>{var o;if(!t.nombre||t.nombre.trim()===""){f.push(e.jsx(x,{title:"Error",children:"El nombre no puede estar vacío."}));return}if(!t.phone||!/^\d+$/.test(t.phone)||t.phone.startsWith("0")){f.push(e.jsx(x,{title:"Error",children:"El teléfono debe contener solo números y no puede comenzar con 0."}));return}if(t.whatsapp&&(!/^\d+$/.test(t.whatsapp)||t.whatsapp.startsWith("0"))){f.push(e.jsx(x,{title:"Error",children:"El WhatsApp debe contener solo números y no puede comenzar con 0."}));return}if(!t.rif||!/^[JVEGCP]-\d+$/.test(t.rif)){f.push(e.jsx(x,{title:"Error",children:"El RIF debe estar en un formato válido (Ejemplo: J-12345678)."}));return}if(!t.Direccion||t.Direccion.trim()===""){f.push(e.jsx(x,{title:"Error",children:"La Direccion no puede estar vacía."}));return}if(!t.status){f.push(e.jsx(x,{title:"Error",children:"Debes seleccionar un estatus."}));return}if(!t.estado){f.push(e.jsx(x,{title:"Error",children:"Debes seleccionar un estado."}));return}try{const s=G(v,"Usuarios"),a=await ee(s);if(a.docs.some(I=>I.data().rif===t.rif&&I.id!==r)){f.push(e.jsx(x,{title:"Error",children:"El RIF ya está registrado. Por favor, verifica e intenta con otro."}));return}if(a.docs.some(I=>I.data().phone===t.phone&&I.id!==r)){f.push(e.jsx(x,{title:"Error",children:"El teléfono ya está registrado. Por favor, verifica e intenta con otro."}));return}let F=t.image_perfil;if(t.newLogoFile){const q=(o=decodeURIComponent(t.image_perfil).split("/").pop())==null?void 0:o.split("?")[0],me=`${r}_`,Ae=q==null?void 0:q.match(/_(\d+)\.jpg$/),ue=Ae?parseInt(Ae[1],10):0,Y=`${me}${ue+1}.jpg`;console.log(q,ue,Y);const h=Te(We,`profileImages/${q}`);try{await Lo(h)}catch(wo){console.error("Error al eliminar la imagen anterior:",wo)}const l=Te(We,`profileImages/${Y}`);await no(l,t.newLogoFile),F=await to(l)}const k=P(v,"Usuarios",r),de={...t,image_perfil:F};delete de.newLogoFile,await H(k,de),j({...t,image_perfil:F}),R(!1),w(),f.push(e.jsx(x,{title:"Éxito",type:"success",children:"Datos de Usuario actualizados correctamente."}))}catch(s){console.error("Error al actualizar los datos:",s),f.push(e.jsx(x,{title:"Error",children:"Ocurrió un error al actualizar los datos del usuario. Inténtalo nuevamente."}))}},po=async()=>{try{const o=P(v,"Usuarios",r);await H(o,{metodos_pago:ne}),f.push(e.jsx(x,{title:"Éxito",type:"success",children:"Métodos de pago actualizados correctamente."}))}catch(o){console.error("Error al guardar los métodos de pago:",o),f.push(e.jsx(x,{title:"Error",children:"Ocurrió un error al actualizar los métodos de pago. Inténtalo nuevamente."}))}},ho=[{name:"Pago móvil",icon:e.jsx(Vo,{}),dbKey:"pagoMovil"},{name:"Transferencias bancarias",icon:e.jsx(qo,{}),dbKey:"transferencia"},{name:"Punto de venta",icon:e.jsx(De,{}),dbKey:"puntoVenta"},{name:"Zinli",icon:e.jsx(Xe,{}),dbKey:"zinli"},{name:"Efectivo",icon:e.jsx(Xe,{}),dbKey:"efectivo"},{name:"Zelle",icon:e.jsx(Ko,{}),dbKey:"zelle"},{name:"Tarjetas de crédito nacional",icon:e.jsx(De,{}),dbKey:"tarjetaCreditoN"},{name:"Tarjetas de crédito internacional",icon:e.jsx(De,{}),dbKey:"tarjetaCreditoI"}],Fe=()=>J(!1),xo=()=>R(!0),[re,ie]=i.useState([]),[Ee,Se]=i.useState([]),{TabNav:Be,TabList:fo,TabContent:$e}=oo,bo=[{header:"Nombre del Servicio",accessorKey:"nombre_servicio"},{header:"Precio",accessorKey:"precio",cell:({row:o})=>`$${parseFloat(o.original.precio).toFixed(2)}`},{header:"Estatus",accessorKey:"estatus",cell:({row:o})=>{const[s,a]=i.useState(o.original.estatus??!1),p=async u=>{a(u);const F=y.map(k=>k.uid_servicio===o.original.uid_servicio?{...k,estatus:u}:k);A(F);try{const k=P(v,"Servicios",o.original.uid_servicio);await H(k,{estatus:u}),console.log("Estado del servicio actualizado")}catch(k){console.error("Error al actualizar el estado del servicio:",k)}};return e.jsx("div",{children:e.jsx(Do,{checked:s,onChange:()=>p(!s)})})}}],jo=[{header:"Nombre del Plan",accessorKey:"nombre"},{header:"Monto",accessorKey:"monto"},{header:"Descripcion",accessorKey:"descripcion"},{header:"Cantidad de servicios",accessorKey:"cantidad_servicios"}],No=[{header:"Nombre del Plan",accessorKey:"nombre"},{header:"Monto",accessorKey:"monto"},{header:"vigencia",accessorKey:"vigencia"},{header:"Fecha de vencimiento",accessorKey:"fecha_fin",cell:({row:o})=>`${te(o.original.fecha_fin)}`}],{Tr:z,Th:le,Td:ce,THead:ke,TBody:Re,Sorter:Yo}=pe,Le=Oe({data:y,columns:bo,state:{sorting:Ee,columnFilters:re},onSortingChange:Se,onColumnFiltersChange:ie,getCoreRowModel:Me(),getSortedRowModel:_e(),getFilteredRowModel:Ie()}),Ue=Oe({data:oe,columns:jo,state:{sorting:Ee,columnFilters:re},onSortingChange:Se,onColumnFiltersChange:ie,getCoreRowModel:Me(),getSortedRowModel:_e(),getFilteredRowModel:Ie()}),ze=Oe({data:ae,columns:No,state:{sorting:Ee,columnFilters:re},onSortingChange:Se,onColumnFiltersChange:ie,getCoreRowModel:Me(),getSortedRowModel:_e(),getFilteredRowModel:Ie()}),[M,vo]=i.useState(1),_=6,qe=Le.getRowModel().rows.length,Ve=o=>{console.log("onPaginationChange",o),vo(o)};console.log("data del taller",t);const[yo,Co]=i.useState(!1),Pe=()=>{Co(o=>!o)};return e.jsxs(Po,{className:"h-full",children:[b&&e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{onClick:()=>N(`${Ao}/garages`),className:"flex items-center text-blue-900 mb-3 ml-2 px-4 py-2 bg-blue-100 rounded-lg hover:bg-blue-200 transition duration-200",children:[e.jsx(Mo,{className:"mr-2"}),e.jsx("span",{children:"Volver"})]})}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-4",children:[e.jsxs(Ye,{children:[e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{className:"bg-[#1d1e56] rounded-md p-2 hover:bg-[#1E3a8a] text-white",onClick:xo,children:"Editar"})}),e.jsxs("div",{className:"flex flex-col xl:justify-between min-w-[260px] h-full 2xl:min-w-[360px] mx-auto",children:[e.jsxs("div",{className:"flex xl:flex-col items-center gap-4",children:[e.jsx(Qe,{size:90,shape:"circle",src:(n==null?void 0:n.image_perfil)||"/img/logo/logo-light-streamline.png",className:"p-2 bg-white shadow-lg"}),e.jsx("h4",{className:"font-bold",children:(n==null?void 0:n.nombre)||"Nombre no disponible"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-1 gap-y-7 gap-x-4 mt-8",children:[e.jsx(O,{title:"Correo electronico",value:(n==null?void 0:n.email)||"Correo no disponible"}),e.jsx(O,{title:"Numero de telefono",value:(n==null?void 0:n.phone)||"Telefono no disponible"}),e.jsx(O,{title:"Rif",value:(n==null?void 0:n.rif)||"Rif no disponible"}),e.jsx(O,{title:"Estado",value:(n==null?void 0:n.estado)||"Estado no disponible"}),e.jsx(O,{title:"Estatus",value:(n==null?void 0:n.status)||"Estatus no disponible"}),e.jsx(O,{title:"Direccion",value:(n==null?void 0:n.Direccion)||"Direccion no disponible"}),n!=null&&n.ubicacion?e.jsx(Jo,{center:{lat:n.ubicacion.lat,lng:n.ubicacion.lng},markers:[{lat:n.ubicacion.lat,lng:n.ubicacion.lng}]}):"Ubicación no disponible",e.jsxs("div",{className:"mb-7",children:[e.jsx("span",{children:"Redes Sociales"}),e.jsx("div",{className:"flex mt-4 gap-2",children:n!=null&&n.LinkFacebook||n!=null&&n.LinkInstagram||n!=null&&n.whatsapp||n!=null&&n.LinkTiktok?e.jsxs(e.Fragment,{children:[n.LinkFacebook&&e.jsx("a",{href:n.LinkFacebook,target:"_blank",rel:"noopener noreferrer",title:n.LinkFacebook,children:e.jsx(ge,{shape:"circle",size:"sm",icon:e.jsx(_o,{className:"text-[#1773ea]"})})}),n.LinkInstagram&&e.jsx("a",{href:n.LinkInstagram,target:"_blank",rel:"noopener noreferrer",title:n.LinkInstagram,children:e.jsx(ge,{shape:"circle",size:"sm",icon:e.jsx(Io,{className:"text-[#E1306C]"})})}),n.LinkTiktok&&e.jsx("a",{href:n.LinkTiktok,target:"_blank",rel:"noopener noreferrer",title:n.LinkTiktok,children:e.jsx(ge,{shape:"circle",size:"sm",icon:e.jsx(To,{className:"text-black"})})}),n.whatsapp&&e.jsx("a",{href:`https://wa.me/${n.whatsapp}?text=${encodeURIComponent("Hola, quiero más información sobre el servicio")}`,target:"_blank",rel:"noopener noreferrer",title:n.whatsapp,children:e.jsx(ge,{shape:"circle",size:"sm",icon:e.jsx(Fo,{className:"text-[#25d366]"})})})]}):e.jsx("p",{className:"text-gray-500",children:"No hay redes sociales disponibles"})})]})]})]})]}),e.jsxs(oo,{defaultValue:"tab1",children:[e.jsxs(fo,{children:[e.jsx(Be,{value:"tab1",children:"Planes"}),e.jsx(Be,{value:"tab2",children:"Servicios"})]}),e.jsx("div",{children:e.jsx($e,{value:"tab1",children:e.jsxs("div",{className:"mb-8 mt-4",children:[e.jsx("h6",{className:"mb-4",children:"Subscripción"}),e.jsx(Ye,{bordered:!0,className:"mb-4",children:c?e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 p-4 border rounded-lg shadow-md bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"bg-emerald-500",shape:"circle",icon:e.jsx($o,{})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:(m==null?void 0:m.nombre)||"Cargando..."}),e.jsx(Bo,{className:`rounded-md border-0 mx-2 ${(m==null?void 0:m.status)==="Aprobado"?"bg-green-100 text-green-400":"bg-yellow-100 text-yellow-400"}`,children:(m==null?void 0:m.status)||"Pendiente"})]}),e.jsxs("div",{className:"grid grid-cols-4",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Vigencia:"," ",(m==null?void 0:m.vigencia)??"---"," ","días"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Monto mensual:"," ",e.jsxs("span",{className:"font-bold text-gray-800",children:["$",(m==null?void 0:m.monto)??"---"]})]}),(m==null?void 0:m.status)==="Aprobado"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-xs ml-2 text-gray-600",children:[be??"---"," ","días restantes"]}),e.jsxs("p",{className:"text-xs ml-2 text-gray-600",children:["Fecha de vencimiento:"," ",e.jsx("span",{className:"text-xs text-gray-600",children:m.fecha_fin?te(m.fecha_fin):"Fecha no disponible"})]})]})]})]})]}),(m==null?void 0:m.status)==="Por Aprobar"&&e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx(Ho,{talleruid:r,subscriptionId:(Ke=ae[0])==null?void 0:Ke.uid})})]}):e.jsxs("div",{className:"flex justify-end",children:[e.jsx("p",{className:"text-xs mr-64 mt-3",children:"Puede visualizar y suscribirse a un plan para su taller..."}),e.jsx("button",{onClick:()=>J(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition duration-200",children:"Ver Planes"})]})}),e.jsx("div",{children:e.jsxs("div",{className:"p-4 rounded-lg shadow",children:[e.jsx("h6",{className:"mb-6 flex justify-start mt-4",children:"Historial de Subscripciones"}),e.jsxs(pe,{className:"w-full rounded-lg",children:[e.jsx(ke,{children:ze.getHeaderGroups().map(o=>e.jsx(z,{children:o.headers.map(s=>e.jsx(le,{colSpan:s.colSpan,children:s.isPlaceholder?null:e.jsx("div",{className:s.column.getCanSort()?"cursor-pointer select-none":"",onClick:s.column.getToggleSortingHandler(),children:V(s.column.columnDef.header,s.getContext())})},s.id))},o.id))}),e.jsx(Re,{children:ze.getRowModel().rows.slice((M-1)*_,M*_).map(o=>e.jsx(z,{children:o.getVisibleCells().map(s=>e.jsx(ce,{children:V(s.column.columnDef.cell,s.getContext())},s.id))},o.id))})]}),e.jsx(eo,{onChange:Ve,currentPage:M,totalRows:qe,rowsPerPage:_})]})}),e.jsx("div",{className:"border-t border-gray-300 my-4"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 p-4",children:ho.map(o=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Uo,{checked:ne[o.dbKey]||!1,onChange:s=>{g(a=>({...a,[o.dbKey]:s}))}}),e.jsx("span",{children:o.icon}),e.jsx("span",{children:o.name})]},o.name))}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:po,className:"px-4 py-2 bg-[#1d1e56] text-white rounded-md hover:bg-blue-900 focus:outline-none",children:"Guardar"})})]})})}),e.jsx($e,{value:"tab2",children:e.jsx("div",{className:"w-[50vw]",children:e.jsxs("div",{className:"p-1 rounded-lg",children:[e.jsx("h6",{className:"mb-6 flex justify-start mt-4",children:"Lista de Servicios"}),e.jsxs(pe,{className:"w-full  rounded-lg",width:700,children:[e.jsx(ke,{children:Le.getHeaderGroups().map(o=>e.jsx(z,{children:o.headers.map(s=>e.jsx(le,{colSpan:s.colSpan,children:s.isPlaceholder?null:e.jsx("div",{className:s.column.getCanSort()?"cursor-pointer select-none":"",onClick:s.column.getToggleSortingHandler(),children:V(s.column.columnDef.header,s.getContext())})},s.id))},o.id))}),e.jsx(Re,{children:Le.getRowModel().rows.slice((M-1)*_,M*_).map(o=>e.jsx(z,{children:o.getVisibleCells().map(s=>e.jsx(ce,{children:V(s.column.columnDef.cell,s.getContext())},s.id))},o.id))})]}),e.jsx(eo,{onChange:Ve,currentPage:M,totalRows:qe,rowsPerPage:_})]})})})]})]}),e.jsx(io,{width:1e3,isOpen:fe,onClose:Fe,children:e.jsxs("div",{className:"table-responsive",children:[e.jsx("h2",{className:"mb-4",children:"Planes de Subscripción"}),e.jsx("div",{className:"p-2 rounded-lg shadow",children:e.jsxs(pe,{className:"w-full rounded-lg",children:[e.jsx(ke,{children:Ue.getHeaderGroups().map(o=>e.jsxs(z,{children:[o.headers.map(s=>{var a,p;return e.jsx(le,{colSpan:s.colSpan,children:s.isPlaceholder?null:e.jsxs("div",{className:s.column.getCanSort()?"cursor-pointer select-none":"",onClick:s.column.getToggleSortingHandler(),children:[V(s.column.columnDef.header,s.getContext()),s.column.getCanFilter()?e.jsx("input",{type:"text",value:((p=(a=re.find(u=>u.id===s.id))==null?void 0:a.value)==null?void 0:p.toString())||"",onChange:u=>Ce(s.id,u.target.value),placeholder:"Buscar",className:"mt-2 p-1 border rounded",onClick:u=>u.stopPropagation()}):null]})},s.id)}),e.jsx(le,{children:"Acción"})," "]},o.id))}),e.jsx(Re,{children:Ue.getRowModel().rows.slice((M-1)*_,M*_).map(o=>e.jsxs(z,{children:[o.getVisibleCells().map(s=>e.jsx(ce,{children:V(s.column.columnDef.cell,s.getContext())},s.id)),e.jsx(ce,{children:e.jsx("button",{className:"bg-[#1d1e56] text-white px-4 py-2 rounded",onClick:()=>ye(o.original),children:"Suscribirse"})})]},o.id))})]})})]})}),se&&e.jsx(Oo,{isOpen:se,title:"Editar Taller",confirmButtonColor:"blue-600",onClose:()=>R(!1),onRequestClose:()=>R(!1),onCancel:()=>R(!1),onConfirm:go,children:e.jsxs("div",{className:"max-h-[450px] overflow-y-auto",children:[e.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10 gap-2",children:e.jsxs("div",{className:"text-center",children:[!t.image_perfil&&!t.newLogoFile?e.jsx(ro,{className:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}):e.jsxs("div",{children:[e.jsx("img",{src:t.newLogoFile?URL.createObjectURL(t.newLogoFile):t.image_perfil,alt:"Preview Logo",className:"mx-auto h-32 w-32 object-cover"}),e.jsx("button",{onClick:()=>S(o=>({...o,newLogoFile:null,image_perfil:""})),className:"mt-2 text-red-500 hover:text-red-700",children:"Quitar Logo"})]}),e.jsx("div",{className:"mt-4 flex text-sm leading-6 text-gray-600 justify-center",children:e.jsxs("label",{htmlFor:"logo-upload",className:"relative cursor-pointer rounded-md bg-white font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500 flex justify-center items-center",children:[e.jsx("span",{children:t.newLogoFile?"Cambiar Logo":"Seleccionar Logo"}),e.jsx("input",{id:"logo-upload",name:"logo-upload",type:"file",accept:"image/*",className:"sr-only",onChange:o=>{var a;const s=(a=o.target.files)==null?void 0:a[0];S(p=>({...p,newLogoFile:s||null}))}})]})})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Nombre"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"Nombre",name:"nombre",value:t.nombre,onChange:L})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Correo Electrónico"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"Correo Electrónico",disabled:!0,name:"email",value:t.email,onChange:L})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Teléfono"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"Teléfono",name:"phone",value:t.phone,onChange:L})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"WhatsApp"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"WhatsApp",name:"whatsapp",value:t.whatsapp,onChange:L})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"RIF:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("select",{value:((Ge=t.rif)==null?void 0:Ge.split("-")[0])||"J",onChange:o=>S(s=>{var a;return{...s,rif:`${o.target.value}-${((a=s==null?void 0:s.rif)==null?void 0:a.split("-")[1])||""}`}}),className:"mx-2 p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"J",children:"J-"}),e.jsx("option",{value:"V",children:"V-"}),e.jsx("option",{value:"E",children:"E-"}),e.jsx("option",{value:"C",children:"C-"}),e.jsx("option",{value:"G",children:"G-"}),e.jsx("option",{value:"P",children:"P-"})]}),e.jsx("input",{disabled:!0,type:"text",value:((Ze=t.rif)==null?void 0:Ze.split("-")[1])||"",onChange:o=>S(s=>{var a;return{...s,rif:`${((a=s==null?void 0:s.rif)==null?void 0:a.split("-")[0])||"J"}-${o.target.value}`}}),className:"p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 mx-2 w-full"})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Estado:"}),e.jsxs("select",{name:"estado",value:t.estado,onChange:L,className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"",children:"Seleccione un Estado"}),["Amazonas","Anzoátegui","Apure","Aragua","Barinas","Bolívar","Carabobo","Cojedes","Delta Amacuro","Distrito Capital","Falcón","Guárico","Lara","La Guaira","Mérida","Miranda","Monagas","Nueva Esparta","Portuguesa","Sucre","Táchira","Trujillo","Yaracuy","Zulia"].map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Direccion"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"",name:"Direccion",value:t.Direccion,onChange:L})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Mapa"}),e.jsx("button",{type:"button",className:"w-full mt-1 p-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-300",onClick:Pe,children:"Abrir Mapa"})]}),yo&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Editar ubicación"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-800 focus:outline-none",onClick:Pe,children:"✖"})]}),e.jsx(Wo,{initialLocation:{lat:t.ubicacion.lat,lng:t.ubicacion.lng},onLocationChange:o=>S(s=>({...s,ubicacion:o}))}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-300",onClick:Pe,children:"Guardar"})})]})}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Estatus"}),e.jsxs("select",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",name:"status",value:t.status,onChange:L,children:[e.jsx("option",{value:"Aprobado",children:"Aprobado"}),e.jsx("option",{value:"Pendiente",children:"Pendiente"}),e.jsx("option",{value:"Rechazado",children:"Rechazado"}),e.jsx("option",{value:"En espera por aprobación",children:"En espera por aprobación"})]})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Facebook"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"URL de Facebook",name:"LinkFacebook",value:t.LinkFacebook,onChange:o=>we(o,"facebook")}),U.facebook&&e.jsx("span",{className:"text-red-500 text-sm",children:U.facebook})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"Instagram"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"URL de Instagram",name:"LinkInstagram",value:t.LinkInstagram,onChange:o=>we(o,"instagram")}),U.instagram&&e.jsx("span",{className:"text-red-500 text-sm",children:U.instagram})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-semibold",children:"TikTok"}),e.jsx("input",{className:"w-full mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-200",placeholder:"URL de TikTok",name:"LinkTiktok",value:t.LinkTiktok,onChange:o=>we(o,"tiktok")}),U.tiktok&&e.jsx("span",{className:"text-red-500 text-sm",children:U.tiktok})]})]})]})})]})};export{va as default};
