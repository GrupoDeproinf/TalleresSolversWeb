import{_ as R}from"./objectWithoutPropertiesLoose-pdUxmcoj.js";import{r as g,aI as A}from"./index-ATNefdVG.js";import{e as M,v as T,g as q,f as z,u as B,h as F}from"./Select-meFjX2OX.js";import{_ as G,b}from"./toConsumableArray-YYxflNc8.js";var H=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],j=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,n=String(t).toLowerCase(),r=String(o.getOptionValue(a)).toLowerCase(),c=String(o.getOptionLabel(a)).toLowerCase();return r===n||c===n},L={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,o,n){return!(!t||a.some(function(r){return j(t,r,n)})||o.some(function(r){return j(t,r,n)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function J(e){var t=e.allowCreateWhileLoading,a=t===void 0?!1:t,o=e.createOptionPosition,n=o===void 0?"last":o,r=e.formatCreateLabel,c=r===void 0?L.formatCreateLabel:r,w=e.isValidNewOption,h=w===void 0?L.isValidNewOption:w,N=e.getNewOptionData,O=N===void 0?L.getNewOptionData:N,f=e.onCreateOption,$=e.options,l=$===void 0?[]:$,d=e.onChange,i=G(e,H),S=i.getOptionValue,V=S===void 0?q:S,_=i.getOptionLabel,P=_===void 0?z:_,s=i.inputValue,y=i.isLoading,D=i.isMulti,v=i.value,W=i.name,p=g.useMemo(function(){return h(s,M(v),l,{getOptionValue:V,getOptionLabel:P})?O(s,c(s)):void 0},[c,O,P,V,s,h,l,v]),E=g.useMemo(function(){return(a||!y)&&p?n==="first"?[p].concat(b(l)):[].concat(b(l),[p]):l},[a,n,y,p,l]),k=g.useCallback(function(u,m){if(m.action!=="select-option")return d(u,m);var x=Array.isArray(u)?u:[u];if(x[x.length-1]===p){if(f)f(s);else{var C=O(s,s),I={action:"create-option",name:W,option:C};d(T(D,[].concat(b(M(v)),[C]),C),I)}return}d(u,m)},[O,s,D,W,p,f,d,v]);return A(A({},i),{},{options:E,onChange:k})}var K=g.forwardRef(function(e,t){var a=B(e),o=J(a);return g.createElement(F,R({ref:t},o))}),Z=K;export{Z as C};
