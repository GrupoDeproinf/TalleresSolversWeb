import{r as n,j as e,a6 as $e,a7 as g,a8 as E,a9 as b,aa as j,ab as v,ac as Me,ad as qe,ae as Be,af as Q,ag as W,ah as Le}from"./index-ATNefdVG.js";import{P as Ve}from"./index-Rjm_CfUD.js";import{T as Y}from"./index-1QBWWPtH.js";import{u as Oe,f as Z,g as Pe,a as Ge,b as ze}from"./index-mu3rsG90.js";import{c as X,d as _,e as Ie,f as He,g as Ke,b as Je}from"./index.esm-SLyUBwzt.js";import{B as f}from"./Button-m8cr7QK0.js";import{D as Qe}from"./Dialog-01bjbLh0.js";import{t as c,N as d}from"./toast-ArUM2hkn.js";import"./Alert-YDCIg78L.js";import{A as We}from"./index-74gKM8Gk.js";import"./Badge-7j32ABcM.js";import"./Calendar-kXRbY7HP.js";import"./Card-OSPH2pm3.js";import"./index-J2oOIxTS.js";import"./index-Ww4KSR8x.js";import{D as ee}from"./Drawer-TF5epqni.js";import"./index-OgT6bzbj.js";import"./FormItem-YT9PXtwB.js";import"./Input-esXMioi-.js";import"./index-Yk7DAYzs.js";import"./index-AdZu4ZEf.js";import"./index-Njt5DKLW.js";import"./Progress-8N-5zDn7.js";import"./index-Xj1V1DYV.js";import"./RangeCalendar-KFdi8RAV.js";import"./ScrollBar-wOU87srT.js";import"./index-wOmcTQB3.js";import{S as U}from"./Select-meFjX2OX.js";import"./Skeleton-rqvm5li9.js";import"./index-yyjad8ES.js";import"./Switcher-Q2_gTjX7.js";import"./index-8Ze0HwPQ.js";import"./Tag-jU5n4W4w.js";import"./index-9p-8nnWt.js";import"./index-O5FvOx90.js";import"./Tooltip-RPBixJuV.js";import"./Upload-sm3Naufp.js";import{c as Ye,a as x,e as Ze,b as Xe,f as _e,V as ea}from"./index.esm-veTBKOrz.js";import{O as aa,D as sa}from"./index.esm-RzyebFAI.js";import{F as ra,a as oa,b as m,E as h}from"./formik.esm-dqEqoyez.js";import"./context-GUUKwgTl.js";import"./index-lc_qXIiG.js";import"./index-D5lh9mO-.js";import"./CloseButton-27bnAAMk.js";import"./motion-qY3QHwHT.js";import"./useTimeout-1ykP9PCU.js";import"./StatusIcon-yBHceAv6.js";import"./chainedFunction-ltcSYACe.js";import"./useMergeRef-Rt_Crb27.js";import"./useControllableState-TaiAnLFv.js";import"./cloneDeep-yGYZIkRg.js";import"./_getAllKeys-eyRctv10.js";import"./_MapCache-_63I7Bc7.js";import"./Views-oxXEUsSY.js";import"./_baseIsEqual-u0EOHXHy.js";import"./get-GDY1XD6s.js";import"./toString-LadLPz1K.js";import"./floating-ui.react-6woUHVe8.js";import"./floating-ui.dom-0rLBacrf.js";import"./TimeInput-EwrvAjFc.js";import"./useUniqueId-q2Q7KHj7.js";import"./useDidUpdate-R-Sv0J0Y.js";import"./useRootClose-2Ks0vhqk.js";import"./isNil-qbgWSuln.js";import"./index-LDVYzlxf.js";import"./toConsumableArray-YYxflNc8.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./setPrototypeOf-ahVgEFUp.js";import"./mapCloneElement-I1EKrR-t.js";import"./index.esm-6sKRXwnY.js";import"./index.esm-5SxxohUP.js";const ta=()=>{var I,H;const[ae,se]=n.useState([]),[re,oe]=n.useState([]),[te,S]=n.useState([]),[le,D]=n.useState(!1),[R,ne]=n.useState("nombre"),[A,ie]=n.useState(""),[r,u]=n.useState(null),[ce,T]=n.useState(!1),p=[{value:"Amazonas",label:"Amazonas"},{value:"Anzoátegui",label:"Anzoátegui"},{value:"Apure",label:"Apure"},{value:"Aragua",label:"Aragua"},{value:"Barinas",label:"Barinas"},{value:"Bolívar",label:"Bolívar"},{value:"Carabobo",label:"Carabobo"},{value:"Cojedes",label:"Cojedes"},{value:"Delta Amacuro",label:"Delta Amacuro"},{value:"Distrito Capital",label:"Distrito Capital"},{value:"Falcón",label:"Falcón"},{value:"Guárico",label:"Guárico"},{value:"Lara",label:"Lara"},{value:"La Guaira",label:"La Guaira"},{value:"Mérida",label:"Mérida"},{value:"Miranda",label:"Miranda"},{value:"Monagas",label:"Monagas"},{value:"Nueva Esparta",label:"Nueva Esparta"},{value:"Portuguesa",label:"Portuguesa"},{value:"Sucre",label:"Sucre"},{value:"Táchira",label:"Táchira"},{value:"Trujillo",label:"Trujillo"},{value:"Yaracuy",label:"Yaracuy"},{value:"Zulia",label:"Zulia"}],y=async()=>{const a=g(E(b,"Usuarios")),s=await j(a),o=[];s.forEach(t=>{const l=t.data();(l.typeUser==="Cliente"||l.typeUser==="Certificador")&&o.push({...l,id:t.id})}),se(o)};n.useEffect(()=>{y()},[]);const de=async()=>{await y(),c.push(e.jsx(d,{title:"Datos actualizados",children:"La tabla ha sido actualizada con éxito."}))},[ue,w]=n.useState(!1);n.useState({nombre:"",email:"",cedula:"",phone:"",typeUser:"Cliente",password:"",uid:"",id:"",estado:""});const me=a=>{u(a),D(!0)},pe=a=>{u(a),T(!0)},$=Ye().shape({nombre:x().min(3,"El nombre debe tener al menos 3 caracteres").required("El nombre es obligatorio"),email:x().email("Debe ser un email válido").required("El correo electrónico es obligatorio").test("termina-en-com",'El email debe terminar en ".com"',a=>(a==null?void 0:a.endsWith(".com"))??!1),cedula:x().matches(/^[V,E,C,G,J,P]-\d{7,10}$/,"tener entre 7 y 10 dígitos").required("La cédula es obligatoria"),phone:x().matches(/^[1-9]\d{10}$/,"El teléfono debe tener 11 dígitos y no puede comenzar con 0").required("El teléfono es obligatorio"),typeUser:x().oneOf(["Cliente","Certificador"],"Tipo de usuario inválido").required("El tipo de usuario es obligatorio"),estado:Ze().when("typeUser",{is:"Certificador",then:()=>Xe().min(1,"Debe seleccionar al menos un estado").required("El estado es obligatorio"),otherwise:()=>x().required("El estado es obligatorio")}),password:x().required("Por favor ingrese una contraseña").min(6,"La contraseña debe tener al menos 6 caracteres"),confirmPassword:x().oneOf([_e("password")],"Las contraseñas no coinciden").required("Por favor confirme su contraseña")}),xe=async a=>{try{await $.validate(a,{abortEarly:!1});const s=E(b,"Usuarios"),o=a.email.toLowerCase(),t=g(s,v("cedula","==",a.cedula)),l=await j(t),i=g(s,v("phone","==",a.phone)),C=await j(i),N=g(s,v("email","==",o));if(!(await j(N)).empty){c.push(e.jsx(d,{title:"Error",children:"¡El correo electrónico ya está registrado!"}));return}if(!l.empty){c.push(e.jsx(d,{title:"Error",children:"¡La cédula ya está registrada!"}));return}if(!C.empty){c.push(e.jsx(d,{title:"Error",children:"¡El número de teléfono ya está registrado!"}));return}const ke=(await qe(Me,o,a.password)).user,Re=E(b,"Usuarios"),J=await Be(Re,{nombre:a.nombre,email:o,cedula:a.cedula,phone:a.phone,Password:a.password,typeUser:a.typeUser||"Cliente",uid:ke.uid,estado:a.typeUser==="Certificador"?Array.isArray(a.estado)?a.estado:[a.estado]:a.estado});await Q(J,{uid:J.id}),c.push(e.jsx(d,{title:"Éxito",children:"Usuario creado exitosamente."})),w(!1),y()}catch(s){s instanceof ea?s.inner.forEach(o=>{c.push(e.jsx(d,{title:"Error",children:o.message}))}):(console.error("Error creando Usuario:",s),c.push(e.jsx(d,{title:"Error",children:"Hubo un error al crear el Usuario."})))}},he=a=>{const s=a.target.value;ie(s),S([{id:R,value:s}])},fe=a=>{const s=a.target.value;ne(s),A!==""&&S([{id:s,value:A}])},ge=async()=>{if(r)try{const a=E(b,"Usuarios"),s=r.email.toLowerCase(),o=g(a,v("cedula","==",r.cedula)),t=await j(o),l=g(a,v("phone","==",r.phone)),i=await j(l);if(!t.empty&&t.docs[0].data().uid!==r.uid){c.push(e.jsx(d,{title:"Error",children:"¡La cédula ya está registrada por otro usuario!"}));return}if(!i.empty&&i.docs[0].data().uid!==r.uid){c.push(e.jsx(d,{title:"Error",children:"¡El número de teléfono ya está registrado por otro usuario!"}));return}const C=W(b,"Usuarios",r.uid),N={nombre:r.nombre,email:s,cedula:r.cedula,phone:r.phone,typeUser:r.typeUser,estado:r.typeUser==="Certificador"?Array.isArray(r.estado)?r.estado:[r.estado]:r.estado};await Q(C,N),c.push(e.jsx(d,{title:"Éxito",children:"Usuario actualizado con éxito."})),T(!1),y()}catch(a){console.error("Error actualizando el usuario:",a),c.push(e.jsx(d,{title:"Error",children:"Hubo un error al actualizar el usuario."}))}},be=a=>a?a.split(" ").filter(Boolean).map(o=>typeof o=="string"&&o.length>0?o[0].toUpperCase():"").join(""):"",je=[{header:"Nombre",accessorKey:"nombre",cell:({getValue:a})=>a(),filterFn:"includesString",footer:a=>a.column.id},{header:"Cedula",accessorKey:"cedula",filterFn:"includesString"},{header:"Email",accessorKey:"email",filterFn:"includesString"},{header:"Numero Telefonico",accessorKey:"phone",filterFn:"includesString",cell:({row:a})=>{const s=a.original.nombre;return e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{style:{backgroundColor:"#887677"},className:"mr-2 w-6 h-6 flex items-center justify-center rounded-full",children:e.jsx("span",{className:"text-white font-bold",children:be(s)})}),a.original.phone," "]})}},{header:"Estado",accessorKey:"estado",filterFn:"includesString",cell:({row:a})=>{const s=a.original.estado;return Array.isArray(s)?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.map((o,t)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:o},t))}):e.jsx("span",{children:s})}},{header:"Tipo de Usuario",accessorKey:"typeUser",cell:({row:a})=>{const s=a.getValue("typeUser");let o,t;switch(s){case"Cliente":o=e.jsx(Je,{className:"text-green-500 mr-1"}),t="text-green-500";break;case"Certificador":o=e.jsx(Ke,{className:"text-yellow-500 mr-1"}),t="text-yellow-500";break;default:o=null,t="text-gray-500"}return e.jsxs("div",{className:`flex items-center ${t}`,children:[o,e.jsx("span",{children:s})]})}},{header:" ",cell:({row:a})=>{const s=a.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>pe(s),className:"text-blue-900",children:e.jsx(Ie,{})}),e.jsx("button",{onClick:()=>me(s),className:"text-red-700",children:e.jsx(He,{})})]})}}],{Tr:M,Th:ye,Td:Ce,THead:Ne,TBody:ve,Sorter:la}=Y,F=a=>{console.log("onDialogClose",a),D(!1),u(null)},we=async()=>{if(r){console.log("Eliminando a:",r);try{const a=W(b,"Usuarios",r.id);await Le(a);const s=e.jsxs(d,{title:"Éxito",children:["Usuario ",r.nombre," eliminado con éxito."]});c.push(s),y()}catch(a){console.error("Error eliminando el usuario:",a);const s=e.jsx(d,{title:"Error",children:"Hubo un error eliminando el usuario."});c.push(s)}finally{D(!1),u(null)}}},q=Oe({data:ae,columns:je,state:{sorting:re,columnFilters:te},onSortingChange:oe,onColumnFiltersChange:S,getCoreRowModel:Pe(),getSortedRowModel:Ge(),getFilteredRowModel:ze()}),[B,L]=n.useState(1),[k,Ee]=n.useState(10),[V,Ue]=n.useState(!1),[O,Se]=n.useState(!1),P=q.getRowModel().rows,De=P.length,Ae=a=>{L(a)},Te=a=>{Ee(a),L(1)},G=(B-1)*k,Fe=G+k,z=a=>{console.log("Drawer cerrado",a),T(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("h1",{className:"mb-6 flex justify-start items-center space-x-4",children:[" ",e.jsx("span",{className:"text-[#000B7E]",children:"Usuarios"}),e.jsx("button",{className:"p-2  bg-slate-100 hover:bg-slate-200 active:bg-slate-300 transition-all duration-200 shadow-md transform hover:scale-105 rounded-md",onClick:de,children:e.jsx(aa,{className:"w-5 h-5 text-gray-700 hover:text-blue-500 transition-colors duration-200"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative w-32",children:[" ",e.jsxs("select",{className:"h-10 w-full py-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:fe,value:R,children:[e.jsx("option",{value:"",disabled:!0,children:"Seleccionar columna..."}),e.jsx("option",{value:"nombre",children:"Nombre"}),e.jsx("option",{value:"cedula",children:"Cedula"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"typeUser",children:"Tipo de Usuario"})]})]}),e.jsxs("div",{className:"relative w-80 ml-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full py-2 px-4 pl-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 h-10",value:A,onChange:he}),e.jsx(sa,{className:"absolute left-3 top-5 transform -translate-y-1/2 text-gray-500 w-5 h-5"})]}),e.jsx(f,{className:"w-40 ml-4 text-white hover:opacity-80",style:{backgroundColor:"#000B7E"},onClick:()=>w(!0),children:"Crear Usuario"})]})})]}),e.jsxs("div",{className:"p-3 rounded-lg shadow",children:[e.jsxs(Y,{className:"w-full rounded-lg ",children:[e.jsx(Ne,{children:q.getHeaderGroups().map(a=>e.jsx(M,{children:a.headers.map(s=>e.jsx(ye,{colSpan:s.colSpan,children:s.isPlaceholder?null:e.jsx("div",{className:s.column.getCanSort()?"cursor-pointer select-none":"",onClick:s.column.getToggleSortingHandler(),children:Z(s.column.columnDef.header,s.getContext())})},s.id))},a.id))}),e.jsx(ve,{children:P.slice(G,Fe).map(a=>e.jsx(M,{children:a.getVisibleCells().map(s=>e.jsx(Ce,{children:Z(s.column.columnDef.cell,s.getContext())},s.id))},a.id))})]}),e.jsx(Ve,{onChange:Ae,currentPage:B,totalRows:De,rowsPerPage:k,onRowsPerPageChange:Te})]}),e.jsxs(Qe,{isOpen:le,onClose:F,onRequestClose:F,children:[e.jsx("h5",{className:"mb-4",children:"Confirmar Eliminación"}),e.jsxs("p",{children:["¿Estás seguro de que deseas eliminar a"," ",r==null?void 0:r.nombre,"?"]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:F,children:"Cancelar"}),e.jsx(f,{style:{backgroundColor:"#B91C1C"},className:"text-white hover:opacity-80",onClick:we,children:"Eliminar"})]})]}),e.jsxs(ee,{isOpen:ce,onClose:z,className:"rounded-md shadow",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Editar Usuario"}),e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Nombre:"}),e.jsx("input",{type:"text",value:(r==null?void 0:r.nombre)||"",onChange:a=>u(s=>({...s,nombre:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Email:"}),e.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",readOnly:!0,onChange:a=>u(s=>({...s,email:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg bg-gray-100 transition duration-200 cursor-not-allowed"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Cédula:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("select",{value:((I=r==null?void 0:r.cedula)==null?void 0:I.split("-")[0])||"V",onChange:a=>u(s=>{var o;return{...s,cedula:`${a.target.value}-${((o=s==null?void 0:s.cedula)==null?void 0:o.split("-")[1])||""}`}}),className:"mx-2 p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"V",children:"V-"}),e.jsx("option",{value:"E",children:"E-"}),e.jsx("option",{value:"C",children:"C-"}),e.jsx("option",{value:"G",children:"G-"}),e.jsx("option",{value:"J",children:"J-"}),e.jsx("option",{value:"P",children:"P-"})]}),e.jsx("input",{type:"text",value:((H=r==null?void 0:r.cedula)==null?void 0:H.split("-")[1])||"",onChange:a=>u(s=>{var o;return{...s,cedula:`${((o=s==null?void 0:s.cedula)==null?void 0:o.split("-")[0])||"V"}-${a.target.value}`}}),className:"p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 mx-2 w-full"})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Teléfono:"}),e.jsx("input",{type:"text",value:(r==null?void 0:r.phone)||"",placeholder:"Ejem (4142611966)",onChange:a=>{const s=a.target.value.replace(/^0+/,"");u(o=>({...o,phone:s}))},onKeyDown:a=>{a.currentTarget.value===""&&a.key==="0"&&a.preventDefault()},className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Tipo de Usuario:"}),e.jsxs("select",{value:(r==null?void 0:r.typeUser)||"Cliente",onChange:a=>u(s=>({...s,typeUser:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"Cliente",children:"Cliente"}),e.jsx("option",{value:"Certificador",children:"Certificador"})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Estado:"}),(r==null?void 0:r.typeUser)==="Certificador"?e.jsx(U,{isMulti:!0,options:p,value:p.filter(a=>Array.isArray(r==null?void 0:r.estado)&&r.estado.includes(a.value)),onChange:a=>{const s=a?a.map(o=>o.value):[];u(o=>({...o,estado:s}))},placeholder:"Seleccione los estados...",className:"mt-1"}):e.jsx(U,{options:p,value:p.find(a=>!Array.isArray(r==null?void 0:r.estado)&&a.value===(r==null?void 0:r.estado))||null,onChange:a=>{u(s=>({...s,estado:a?a.value:""}))},placeholder:"Seleccione un estado...",className:"mt-1"})]})]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{className:"mr-2",variant:"default",onClick:z,children:"Cancelar"}),e.jsx(f,{onClick:ge,style:{backgroundColor:"#000B7E"},className:"text-white hover:opacity-80",children:"Guardar Cambios"})]})]}),e.jsxs(ee,{isOpen:ue,onClose:()=>w(!1),className:"rounded-md shadow",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Crear Usuario"}),e.jsx(ra,{initialValues:{nombre:"",email:"",cedula:"",phone:"",typeUser:"Cliente",password:"",confirmPassword:"",estado:""},validationSchema:$,onSubmit:(a,{setSubmitting:s})=>{xe(a),s(!1)},children:({isSubmitting:a,setFieldValue:s,values:o})=>($e.useEffect(()=>{o.typeUser==="Cliente"&&Array.isArray(o.estado)?s("estado",""):o.typeUser==="Certificador"&&!Array.isArray(o.estado)&&s("estado",[])},[o.typeUser,s]),e.jsxs(oa,{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Nombre:"}),e.jsx(m,{type:"text",name:"nombre",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(h,{name:"nombre",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Email:"}),e.jsx(m,{type:"email",name:"email",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(h,{name:"email",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Cédula:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("select",{name:"cedulaPrefix",value:o.cedula.split("-")[0]||"V",onChange:t=>{const l=`${t.target.value}-${o.cedula.split("-")[1]||""}`;s("cedula",l)},className:"mx-2 p-3 border border-gray-300 rounded-l-lg",children:[e.jsx("option",{value:"V",children:"V-"}),e.jsx("option",{value:"E",children:"E-"}),e.jsx("option",{value:"C",children:"C-"}),e.jsx("option",{value:"G",children:"G-"}),e.jsx("option",{value:"J",children:"J-"}),e.jsx("option",{value:"P",children:"P-"})]}),e.jsx(m,{type:"text",name:"cedula",value:o.cedula.split("-")[1]||"",onChange:t=>{const l=`${o.cedula.split("-")[0]||"V"}-${t.target.value}`;s("cedula",l)},className:"p-3 border border-gray-300 rounded-r-lg mx-2 w-full"}),e.jsx(h,{name:"cedula",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Teléfono:"}),e.jsx(m,{type:"text",name:"phone",placeholder:"Ejem (4142611966)",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:t=>{t.currentTarget.value===""&&t.key==="0"&&t.preventDefault()},onChange:t=>{const l=t.target.value.replace(/^0+/,"");s("phone",l)}}),e.jsx(h,{name:"phone",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Tipo de Usuario:"}),e.jsxs(m,{as:"select",name:"typeUser",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Cliente",children:"Cliente"}),e.jsx("option",{value:"Certificador",children:"Certificador"})]}),e.jsx(h,{name:"typeUser",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Estado:"}),o.typeUser==="Certificador"?e.jsx(m,{name:"estado",children:({field:t,form:l})=>e.jsx(U,{isMulti:!0,field:t,form:l,options:p,value:p.filter(i=>Array.isArray(o.estado)&&o.estado.includes(i.value)),onChange:i=>{const C=i?i.map(N=>N.value):[];l.setFieldValue(t.name,C)},placeholder:"Seleccione los estados...",className:"mt-1"})}):e.jsx(m,{name:"estado",children:({field:t,form:l})=>e.jsx(U,{field:t,form:l,options:p,value:p.find(i=>i.value===o.estado)||null,onChange:i=>{l.setFieldValue(t.name,i?i.value:"")},placeholder:"Seleccione un estado...",className:"mt-1"})}),e.jsx(h,{name:"estado",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Contraseña:"}),e.jsx(m,{type:V?"text":"password",name:"password",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Ue(t=>!t),className:"absolute right-3 top-10 text-gray-600",children:V?e.jsx(X,{}):e.jsx(_,{})}),e.jsx(h,{name:"password",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col relative mt-4",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Confirmar Contraseña:"}),e.jsx(m,{type:O?"text":"password",name:"confirmPassword",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Se(t=>!t),className:"absolute right-3 top-10 text-gray-600",children:O?e.jsx(X,{}):e.jsx(_,{})}),e.jsx(h,{name:"confirmPassword",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{variant:"default",onClick:()=>{w(!1)},className:"mr-2",children:"Cancelar"}),e.jsx(f,{type:"submit",style:{backgroundColor:"#000B7E"},className:"text-white hover:opacity-80",disabled:a,children:a?"Guardando...":"Crear"})]})]}))})]})]})},Es=ta;export{Es as default};
