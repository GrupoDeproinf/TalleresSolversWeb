import{p as N,j as e}from"./index-NsbKStwV.js";import{I}from"./Input-BlRH7Tqm.js";import{B as F}from"./Button-XnwKhdvE.js";import{F as b,a as t}from"./FormItem-a3aLHqrY.js";import{A as v}from"./Alert-SMRHUaiv.js";import{P as A}from"./PasswordInput-4FNM0rQq.js";import{A as i}from"./ActionLink-TLTvBxlw.js";import{u as C}from"./useTimeOutMessage-KRg747ZM.js";import{F as M,a as P,b as m}from"./formik.esm-tsJTNbUL.js";import{c as y,a as c,d as S}from"./index.esm-tcsgx5EQ.js";const k=y().shape({userName:c().required("Por favor ingrese su correo"),password:c().required("Por favor ingrese su contraseña"),rememberMe:S()}),V=l=>{const{disableSubmit:d=!1,className:p,forgotPasswordUrl:u="/forgot-password",signUpUrl:f="/sign-up"}=l,[n,x]=C(),{signIn:h}=N(),g=async(a,s)=>{const{userName:r,password:j}=a;s(!0);const w=r.trim().toLowerCase(),o=await h({userName:w,password:j});(o==null?void 0:o.status)==="failed"&&x(o.message),s(!1)};return e.jsxs("div",{className:p,children:[n&&e.jsx(v,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx(e.Fragment,{children:n})}),e.jsx(M,{initialValues:{userName:"",password:"",rememberMe:!0},validationSchema:k,onSubmit:(a,{setSubmitting:s})=>{d?s(!1):g({...a,userName:a.userName.trim().toLowerCase()},s)},children:({touched:a,errors:s,isSubmitting:r})=>e.jsx(P,{children:e.jsxs(b,{children:[e.jsx(t,{label:"Email",invalid:s.userName&&a.userName,errorMessage:s.userName,children:e.jsx(m,{type:"text",autoComplete:"off",name:"userName",placeholder:"Ingrese su email",component:I})}),e.jsx(t,{label:"Contraseña",invalid:s.password&&a.password,errorMessage:s.password,children:e.jsx(m,{autoComplete:"off",name:"password",placeholder:"Ingrese su contraseña",component:A})}),e.jsx(F,{block:!0,loading:r,variant:"solid",type:"submit",children:r?"Iniciando sesión...":"Iniciar Sesión"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("span",{children:["¿Aún no tienes una cuenta?"," "]}),e.jsx(i,{to:f,children:"Registrate"})]}),e.jsx("div",{className:"text-center",children:e.jsx(i,{to:u,children:"Recuperar contraseña"})})]})})})]})};export{V as S};
