import{r as i,j as e,a6 as ke,a7 as g,a8 as E,a9 as b,aa as j,ab as v,ac as Re,ad as $e,ae as Me,af as J,ag as Q,ah as qe}from"./index-14Zf3KpF.js";import{P as Be}from"./index-kFvjOL3D.js";import{T as W}from"./index-3BObJsDJ.js";import{u as Le,f as Y,g as Ve,a as Oe,b as Ge}from"./index-LZfeVAL0.js";import{c as Z,d as X,e as ze,f as Ie,g as Pe,b as He}from"./index.esm-tlmx5QOY.js";import{B as f}from"./Button-lbg_hS91.js";import{D as Ke}from"./Dialog-98KgCsVE.js";import{t as c,N as d}from"./toast-Jj1LYbun.js";import"./Alert-c_d20-PJ.js";import{A as Je}from"./index-em1J0gHM.js";import"./Badge-CqmUwe5u.js";import"./Calendar-vfoB_TaT.js";import"./Card-OFJMqrf6.js";import"./index-zdbvPjJI.js";import"./index-fGWZPUOu.js";import{D as _}from"./Drawer-XVYwPOQJ.js";import"./index-ybNqXACY.js";import"./FormItem-vP8QFGCG.js";import"./Input-BZyRtAdV.js";import"./index-HxcQXkLL.js";import"./index-QH84rhEO.js";import"./index-ZAT0eFAA.js";import"./Progress-Dn2nF1tZ.js";import"./index-2I-irD2v.js";import"./RangeCalendar-YCj7FsKv.js";import"./ScrollBar-IDABg_yX.js";import"./index-Yon_llSd.js";import{S as U}from"./Select-koGI06qh.js";import"./Skeleton-CbTVZb9T.js";import"./index-AEODRUpm.js";import"./Switcher-Xeak4kpQ.js";import"./index-nFPhH0hb.js";import"./Tag-J_pOh3mp.js";import"./index-nQd9NBZ4.js";import"./index-Vd53T5Yq.js";import"./Tooltip-PxOiAuea.js";import"./Upload-z4AlS_JP.js";import{c as Qe,a as x,e as We,b as Ye,f as Ze,V as Xe}from"./index.esm-tzr-wIY0.js";import{O as _e,D as ea}from"./index.esm-2Nj3n_IK.js";import{F as aa,a as sa,b as m,E as h}from"./formik.esm-T2JFgNs8.js";import"./context-NuRkSskr.js";import"./index-emBOYGd5.js";import"./index-TgIVsgqN.js";import"./CloseButton-Ui8HreDe.js";import"./motion-pKXwz-yX.js";import"./useTimeout-hD2zZuV0.js";import"./StatusIcon-zUd2PBms.js";import"./chainedFunction-ltcSYACe.js";import"./useMergeRef-Rt_Crb27.js";import"./useControllableState-rjQk4Tek.js";import"./cloneDeep-llLHo0w5.js";import"./_getAllKeys-FXz9MG71.js";import"./_MapCache-4EbV2h9z.js";import"./Views-rz_27Y7n.js";import"./_baseIsEqual-nqdseGhb.js";import"./get-9olJb5yq.js";import"./toString-A4izs8si.js";import"./floating-ui.react-rqxm2o5S.js";import"./floating-ui.dom-0rLBacrf.js";import"./TimeInput-nwatJGYN.js";import"./useUniqueId-PlbVHftl.js";import"./useDidUpdate-ZoxDcGEF.js";import"./useRootClose-nb-8Cz0V.js";import"./isNil-jf_K_mLO.js";import"./index-xjj2bTFj.js";import"./toConsumableArray-YYxflNc8.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./setPrototypeOf-ahVgEFUp.js";import"./mapCloneElement-M_HRhkFV.js";import"./index.esm-cOK3YiHr.js";import"./index.esm-50PAnkRE.js";const ra=()=>{var I,P;const[ee,ae]=i.useState([]),[se,re]=i.useState([]),[oe,S]=i.useState([]),[te,D]=i.useState(!1),[R,le]=i.useState("nombre"),[A,ne]=i.useState(""),[r,u]=i.useState(null),[ie,T]=i.useState(!1),p=[{value:"Amazonas",label:"Amazonas"},{value:"Anzoátegui",label:"Anzoátegui"},{value:"Apure",label:"Apure"},{value:"Aragua",label:"Aragua"},{value:"Barinas",label:"Barinas"},{value:"Bolívar",label:"Bolívar"},{value:"Carabobo",label:"Carabobo"},{value:"Cojedes",label:"Cojedes"},{value:"Delta Amacuro",label:"Delta Amacuro"},{value:"Distrito Capital",label:"Distrito Capital"},{value:"Falcón",label:"Falcón"},{value:"Guárico",label:"Guárico"},{value:"Lara",label:"Lara"},{value:"La Guaira",label:"La Guaira"},{value:"Mérida",label:"Mérida"},{value:"Miranda",label:"Miranda"},{value:"Monagas",label:"Monagas"},{value:"Nueva Esparta",label:"Nueva Esparta"},{value:"Portuguesa",label:"Portuguesa"},{value:"Sucre",label:"Sucre"},{value:"Táchira",label:"Táchira"},{value:"Trujillo",label:"Trujillo"},{value:"Yaracuy",label:"Yaracuy"},{value:"Zulia",label:"Zulia"}],y=async()=>{const a=g(E(b,"Usuarios")),s=await j(a),o=[];s.forEach(t=>{const l=t.data();(l.typeUser==="Cliente"||l.typeUser==="Certificador")&&o.push({...l,id:t.id})}),ae(o)};i.useEffect(()=>{y()},[]);const ce=async()=>{await y(),c.push(e.jsx(d,{title:"Datos actualizados",children:"La tabla ha sido actualizada con éxito."}))},[de,w]=i.useState(!1);i.useState({nombre:"",email:"",cedula:"",phone:"",typeUser:"Cliente",password:"",uid:"",id:"",estado:""});const ue=a=>{u(a),D(!0)},me=a=>{u(a),T(!0)},$=Qe().shape({nombre:x().min(3,"El nombre debe tener al menos 3 caracteres").required("El nombre es obligatorio"),email:x().email("Debe ser un email válido").required("El correo electrónico es obligatorio").test("termina-en-com",'El email debe terminar en ".com"',a=>(a==null?void 0:a.endsWith(".com"))??!1),cedula:x().matches(/^[V,E,C,G,J,P]-\d{7,10}$/,"tener entre 7 y 10 dígitos").required("La cédula es obligatoria"),phone:x().matches(/^[1-9]\d{10}$/,"El teléfono debe tener 11 dígitos y no puede comenzar con 0").required("El teléfono es obligatorio"),typeUser:x().oneOf(["Cliente","Certificador"],"Tipo de usuario inválido").required("El tipo de usuario es obligatorio"),estado:We().when("typeUser",{is:"Certificador",then:()=>Ye().min(1,"Debe seleccionar al menos un estado").required("El estado es obligatorio"),otherwise:()=>x().required("El estado es obligatorio")}),password:x().required("Por favor ingrese una contraseña").min(6,"La contraseña debe tener al menos 6 caracteres"),confirmPassword:x().oneOf([Ze("password")],"Las contraseñas no coinciden").required("Por favor confirme su contraseña")}),pe=async a=>{try{await $.validate(a,{abortEarly:!1});const s=E(b,"Usuarios"),o=a.email.toLowerCase(),t=g(s,v("cedula","==",a.cedula)),l=await j(t),n=g(s,v("phone","==",a.phone)),C=await j(n),N=g(s,v("email","==",o));if(!(await j(N)).empty){c.push(e.jsx(d,{title:"Error",children:"¡El correo electrónico ya está registrado!"}));return}if(!l.empty){c.push(e.jsx(d,{title:"Error",children:"¡La cédula ya está registrada!"}));return}if(!C.empty){c.push(e.jsx(d,{title:"Error",children:"¡El número de teléfono ya está registrado!"}));return}const Te=(await $e(Re,o,a.password)).user,Fe=E(b,"Usuarios"),K=await Me(Fe,{nombre:a.nombre,email:o,cedula:a.cedula,phone:a.phone,Password:a.password,typeUser:a.typeUser||"Cliente",uid:Te.uid,estado:a.typeUser==="Certificador"?Array.isArray(a.estado)?a.estado:[a.estado]:a.estado});await J(K,{uid:K.id}),c.push(e.jsx(d,{title:"Éxito",children:"Usuario creado exitosamente."})),w(!1),y()}catch(s){s instanceof Xe?s.inner.forEach(o=>{c.push(e.jsx(d,{title:"Error",children:o.message}))}):(console.error("Error creando Usuario:",s),c.push(e.jsx(d,{title:"Error",children:"Hubo un error al crear el Usuario."})))}},xe=a=>{const s=a.target.value;ne(s),S([{id:R,value:s}])},he=a=>{const s=a.target.value;le(s),A!==""&&S([{id:s,value:A}])},fe=async()=>{if(r)try{const a=E(b,"Usuarios"),s=r.email.toLowerCase(),o=g(a,v("cedula","==",r.cedula)),t=await j(o),l=g(a,v("phone","==",r.phone)),n=await j(l);if(!t.empty&&t.docs[0].data().uid!==r.uid){c.push(e.jsx(d,{title:"Error",children:"¡La cédula ya está registrada por otro usuario!"}));return}if(!n.empty&&n.docs[0].data().uid!==r.uid){c.push(e.jsx(d,{title:"Error",children:"¡El número de teléfono ya está registrado por otro usuario!"}));return}const C=Q(b,"Usuarios",r.uid),N={nombre:r.nombre,email:s,cedula:r.cedula,phone:r.phone,typeUser:r.typeUser,estado:r.typeUser==="Certificador"?Array.isArray(r.estado)?r.estado:[r.estado]:r.estado};await J(C,N),c.push(e.jsx(d,{title:"Éxito",children:"Usuario actualizado con éxito."})),T(!1),y()}catch(a){console.error("Error actualizando el usuario:",a),c.push(e.jsx(d,{title:"Error",children:"Hubo un error al actualizar el usuario."}))}},ge=a=>a?a.split(" ").filter(Boolean).map(o=>typeof o=="string"&&o.length>0?o[0].toUpperCase():"").join(""):"",be=[{header:"Nombre",accessorKey:"nombre",cell:({getValue:a})=>a(),filterFn:"includesString",footer:a=>a.column.id},{header:"Cedula",accessorKey:"cedula",filterFn:"includesString"},{header:"Email",accessorKey:"email",filterFn:"includesString"},{header:"Numero Telefonico",accessorKey:"phone",filterFn:"includesString",cell:({row:a})=>{const s=a.original.nombre;return e.jsxs("div",{className:"flex items-center",children:[e.jsx(Je,{style:{backgroundColor:"#887677"},className:"mr-2 w-6 h-6 flex items-center justify-center rounded-full",children:e.jsx("span",{className:"text-white font-bold",children:ge(s)})}),a.original.phone," "]})}},{header:"Estado",accessorKey:"estado",filterFn:"includesString",cell:({row:a})=>{const s=a.original.estado;return Array.isArray(s)?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.map((o,t)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:o},t))}):e.jsx("span",{children:s})}},{header:"Tipo de Usuario",accessorKey:"typeUser",cell:({row:a})=>{const s=a.getValue("typeUser");let o,t;switch(s){case"Cliente":o=e.jsx(He,{className:"text-green-500 mr-1"}),t="text-green-500";break;case"Certificador":o=e.jsx(Pe,{className:"text-yellow-500 mr-1"}),t="text-yellow-500";break;default:o=null,t="text-gray-500"}return e.jsxs("div",{className:`flex items-center ${t}`,children:[o,e.jsx("span",{children:s})]})}},{header:" ",cell:({row:a})=>{const s=a.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>me(s),className:"text-blue-900",children:e.jsx(ze,{})}),e.jsx("button",{onClick:()=>ue(s),className:"text-red-700",children:e.jsx(Ie,{})})]})}}],{Tr:M,Th:je,Td:ye,THead:Ce,TBody:Ne,Sorter:oa}=W,F=a=>{console.log("onDialogClose",a),D(!1),u(null)},ve=async()=>{if(r){console.log("Eliminando a:",r);try{const a=Q(b,"Usuarios",r.id);await qe(a);const s=e.jsxs(d,{title:"Éxito",children:["Usuario ",r.nombre," eliminado con éxito."]});c.push(s),y()}catch(a){console.error("Error eliminando el usuario:",a);const s=e.jsx(d,{title:"Error",children:"Hubo un error eliminando el usuario."});c.push(s)}finally{D(!1),u(null)}}},q=Le({data:ee,columns:be,state:{sorting:se,columnFilters:oe},onSortingChange:re,onColumnFiltersChange:S,getCoreRowModel:Ve(),getSortedRowModel:Oe(),getFilteredRowModel:Ge()}),[B,we]=i.useState(1),k=6,[L,Ee]=i.useState(!1),[V,Ue]=i.useState(!1),O=q.getRowModel().rows,Se=O.length,De=a=>{console.log("onPaginationChange",a),we(a)},G=(B-1)*k,Ae=G+k,z=a=>{console.log("Drawer cerrado",a),T(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("h1",{className:"mb-6 flex justify-start items-center space-x-4",children:[" ",e.jsx("span",{className:"text-[#000B7E]",children:"Usuarios"}),e.jsx("button",{className:"p-2  bg-slate-100 hover:bg-slate-200 active:bg-slate-300 transition-all duration-200 shadow-md transform hover:scale-105 rounded-md",onClick:ce,children:e.jsx(_e,{className:"w-5 h-5 text-gray-700 hover:text-blue-500 transition-colors duration-200"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative w-32",children:[" ",e.jsxs("select",{className:"h-10 w-full py-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:he,value:R,children:[e.jsx("option",{value:"",disabled:!0,children:"Seleccionar columna..."}),e.jsx("option",{value:"nombre",children:"Nombre"}),e.jsx("option",{value:"cedula",children:"Cedula"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"typeUser",children:"Tipo de Usuario"})]})]}),e.jsxs("div",{className:"relative w-80 ml-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full py-2 px-4 pl-10 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 h-10",value:A,onChange:xe}),e.jsx(ea,{className:"absolute left-3 top-5 transform -translate-y-1/2 text-gray-500 w-5 h-5"})]}),e.jsx(f,{className:"w-40 ml-4 text-white hover:opacity-80",style:{backgroundColor:"#000B7E"},onClick:()=>w(!0),children:"Crear Usuario"})]})})]}),e.jsxs("div",{className:"p-3 rounded-lg shadow",children:[e.jsxs(W,{className:"w-full rounded-lg ",children:[e.jsx(Ce,{children:q.getHeaderGroups().map(a=>e.jsx(M,{children:a.headers.map(s=>e.jsx(je,{colSpan:s.colSpan,children:s.isPlaceholder?null:e.jsx("div",{className:s.column.getCanSort()?"cursor-pointer select-none":"",onClick:s.column.getToggleSortingHandler(),children:Y(s.column.columnDef.header,s.getContext())})},s.id))},a.id))}),e.jsx(Ne,{children:O.slice(G,Ae).map(a=>e.jsx(M,{children:a.getVisibleCells().map(s=>e.jsx(ye,{children:Y(s.column.columnDef.cell,s.getContext())},s.id))},a.id))})]}),e.jsx(Be,{onChange:De,currentPage:B,totalRows:Se,rowsPerPage:k})]}),e.jsxs(Ke,{isOpen:te,onClose:F,onRequestClose:F,children:[e.jsx("h5",{className:"mb-4",children:"Confirmar Eliminación"}),e.jsxs("p",{children:["¿Estás seguro de que deseas eliminar a"," ",r==null?void 0:r.nombre,"?"]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:F,children:"Cancelar"}),e.jsx(f,{style:{backgroundColor:"#B91C1C"},className:"text-white hover:opacity-80",onClick:ve,children:"Eliminar"})]})]}),e.jsxs(_,{isOpen:ie,onClose:z,className:"rounded-md shadow",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Editar Usuario"}),e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Nombre:"}),e.jsx("input",{type:"text",value:(r==null?void 0:r.nombre)||"",onChange:a=>u(s=>({...s,nombre:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Email:"}),e.jsx("input",{type:"email",value:(r==null?void 0:r.email)||"",readOnly:!0,onChange:a=>u(s=>({...s,email:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg bg-gray-100 transition duration-200 cursor-not-allowed"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Cédula:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("select",{value:((I=r==null?void 0:r.cedula)==null?void 0:I.split("-")[0])||"V",onChange:a=>u(s=>{var o;return{...s,cedula:`${a.target.value}-${((o=s==null?void 0:s.cedula)==null?void 0:o.split("-")[1])||""}`}}),className:"mx-2 p-3 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"V",children:"V-"}),e.jsx("option",{value:"E",children:"E-"}),e.jsx("option",{value:"C",children:"C-"}),e.jsx("option",{value:"G",children:"G-"}),e.jsx("option",{value:"J",children:"J-"}),e.jsx("option",{value:"P",children:"P-"})]}),e.jsx("input",{type:"text",value:((P=r==null?void 0:r.cedula)==null?void 0:P.split("-")[1])||"",onChange:a=>u(s=>{var o;return{...s,cedula:`${((o=s==null?void 0:s.cedula)==null?void 0:o.split("-")[0])||"V"}-${a.target.value}`}}),className:"p-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 mx-2 w-full"})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Teléfono:"}),e.jsx("input",{type:"text",value:(r==null?void 0:r.phone)||"",placeholder:"Ejem (4142611966)",onChange:a=>{const s=a.target.value.replace(/^0+/,"");u(o=>({...o,phone:s}))},onKeyDown:a=>{a.currentTarget.value===""&&a.key==="0"&&a.preventDefault()},className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200"})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Tipo de Usuario:"}),e.jsxs("select",{value:(r==null?void 0:r.typeUser)||"Cliente",onChange:a=>u(s=>({...s,typeUser:a.target.value})),className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200",children:[e.jsx("option",{value:"Cliente",children:"Cliente"}),e.jsx("option",{value:"Certificador",children:"Certificador"})]})]}),e.jsxs("label",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Estado:"}),(r==null?void 0:r.typeUser)==="Certificador"?e.jsx(U,{isMulti:!0,options:p,value:p.filter(a=>Array.isArray(r==null?void 0:r.estado)&&r.estado.includes(a.value)),onChange:a=>{const s=a?a.map(o=>o.value):[];u(o=>({...o,estado:s}))},placeholder:"Seleccione los estados...",className:"mt-1"}):e.jsx(U,{options:p,value:p.find(a=>!Array.isArray(r==null?void 0:r.estado)&&a.value===(r==null?void 0:r.estado))||null,onChange:a=>{u(s=>({...s,estado:a?a.value:""}))},placeholder:"Seleccione un estado...",className:"mt-1"})]})]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{className:"mr-2",variant:"default",onClick:z,children:"Cancelar"}),e.jsx(f,{onClick:fe,style:{backgroundColor:"#000B7E"},className:"text-white hover:opacity-80",children:"Guardar Cambios"})]})]}),e.jsxs(_,{isOpen:de,onClose:()=>w(!1),className:"rounded-md shadow",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Crear Usuario"}),e.jsx(aa,{initialValues:{nombre:"",email:"",cedula:"",phone:"",typeUser:"Cliente",password:"",confirmPassword:"",estado:""},validationSchema:$,onSubmit:(a,{setSubmitting:s})=>{pe(a),s(!1)},children:({isSubmitting:a,setFieldValue:s,values:o})=>(ke.useEffect(()=>{o.typeUser==="Cliente"&&Array.isArray(o.estado)?s("estado",""):o.typeUser==="Certificador"&&!Array.isArray(o.estado)&&s("estado",[])},[o.typeUser,s]),e.jsxs(sa,{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Nombre:"}),e.jsx(m,{type:"text",name:"nombre",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(h,{name:"nombre",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Email:"}),e.jsx(m,{type:"email",name:"email",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx(h,{name:"email",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Cédula:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("select",{name:"cedulaPrefix",value:o.cedula.split("-")[0]||"V",onChange:t=>{const l=`${t.target.value}-${o.cedula.split("-")[1]||""}`;s("cedula",l)},className:"mx-2 p-3 border border-gray-300 rounded-l-lg",children:[e.jsx("option",{value:"V",children:"V-"}),e.jsx("option",{value:"E",children:"E-"}),e.jsx("option",{value:"C",children:"C-"}),e.jsx("option",{value:"G",children:"G-"}),e.jsx("option",{value:"J",children:"J-"}),e.jsx("option",{value:"P",children:"P-"})]}),e.jsx(m,{type:"text",name:"cedula",value:o.cedula.split("-")[1]||"",onChange:t=>{const l=`${o.cedula.split("-")[0]||"V"}-${t.target.value}`;s("cedula",l)},className:"p-3 border border-gray-300 rounded-r-lg mx-2 w-full"}),e.jsx(h,{name:"cedula",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Teléfono:"}),e.jsx(m,{type:"text",name:"phone",placeholder:"Ejem (4142611966)",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:t=>{t.currentTarget.value===""&&t.key==="0"&&t.preventDefault()},onChange:t=>{const l=t.target.value.replace(/^0+/,"");s("phone",l)}}),e.jsx(h,{name:"phone",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Tipo de Usuario:"}),e.jsxs(m,{as:"select",name:"typeUser",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Cliente",children:"Cliente"}),e.jsx("option",{value:"Certificador",children:"Certificador"})]}),e.jsx(h,{name:"typeUser",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Estado:"}),o.typeUser==="Certificador"?e.jsx(m,{name:"estado",children:({field:t,form:l})=>e.jsx(U,{isMulti:!0,field:t,form:l,options:p,value:p.filter(n=>Array.isArray(o.estado)&&o.estado.includes(n.value)),onChange:n=>{const C=n?n.map(N=>N.value):[];l.setFieldValue(t.name,C)},placeholder:"Seleccione los estados...",className:"mt-1"})}):e.jsx(m,{name:"estado",children:({field:t,form:l})=>e.jsx(U,{field:t,form:l,options:p,value:p.find(n=>n.value===o.estado)||null,onChange:n=>{l.setFieldValue(t.name,n?n.value:"")},placeholder:"Seleccione un estado...",className:"mt-1"})}),e.jsx(h,{name:"estado",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Contraseña:"}),e.jsx(m,{type:L?"text":"password",name:"password",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Ee(t=>!t),className:"absolute right-3 top-10 text-gray-600",children:L?e.jsx(Z,{}):e.jsx(X,{})}),e.jsx(h,{name:"password",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"flex flex-col relative mt-4",children:[e.jsx("label",{className:"font-semibold text-gray-700",children:"Confirmar Contraseña:"}),e.jsx(m,{type:V?"text":"password",name:"confirmPassword",className:"mt-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Ue(t=>!t),className:"absolute right-3 top-10 text-gray-600",children:V?e.jsx(Z,{}):e.jsx(X,{})}),e.jsx(h,{name:"confirmPassword",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"text-right mt-6",children:[e.jsx(f,{variant:"default",onClick:()=>{w(!1)},className:"mr-2",children:"Cancelar"}),e.jsx(f,{type:"submit",style:{backgroundColor:"#000B7E"},className:"text-white hover:opacity-80",disabled:a,children:a?"Guardando...":"Crear"})]})]}))})]})]})},vs=ra;export{vs as default};
